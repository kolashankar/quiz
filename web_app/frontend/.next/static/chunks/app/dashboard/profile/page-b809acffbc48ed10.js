(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{32924:function(e,t,a){Promise.resolve().then(a.bind(a,44929))},44929:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(57437),r=a(2265),l=a(88900),n=a(14362),i=a(29923),c=a(83389),d=a(69064),o=a(338),x=a(12594),m=a(4670),g=a(97503),u=a(16331),h=a(23354),y=a(12087),p=a(41077),j=a(20322),f=a(47625),b=a(21156),N=a(56940),v=a(97059),w=a(62994),k=a(8147),S=a(22190),T=a(54061),P=a(75169),_=a(3574),A=a(20407),E=a(77031),O=a(31699);let C=["#10B981","#F59E0B","#EF4444"];function I(){let{user:e,updateUser:t}=(0,n.a)(),[a,I]=(0,r.useState)(null),[R,D]=(0,r.useState)([]),[U,B]=(0,r.useState)([]),[F,Z]=(0,r.useState)(!0),[L,z]=(0,r.useState)(!1),[M,H]=(0,r.useState)(!1),[K,q]=(0,r.useState)((null==e?void 0:e.email)||""),[W,Y]=(0,r.useState)((null==e?void 0:e.name)||""),[G,J]=(0,r.useState)(""),[Q,V]=(0,r.useState)(""),[X,$]=(0,r.useState)(""),[ee,et]=(0,r.useState)(!1),[ea,es]=(0,r.useState)("overview"),er=async()=>{try{let[e,t,a]=await Promise.all([i.R.getUserAnalytics(),i.R.getTestHistory(),i.R.getDifficultyBreakdown()]);I(e),D(t||[]),B(a||[])}catch(e){console.error("Error fetching data:",e)}finally{Z(!1)}};(0,r.useEffect)(()=>{er()},[]);let el=async()=>{et(!0);try{let e=await c.O.updateProfile({email:K,name:W});t(e),z(!1),d.ZP.success("Profile updated successfully!")}catch(t){var e,a;d.ZP.error((null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.detail)||"Failed to update profile")}finally{et(!1)}},en=async()=>{if(Q!==X){d.ZP.error("Passwords do not match");return}if(Q.length<6){d.ZP.error("Password must be at least 6 characters");return}et(!0);try{await c.O.changePassword(G,Q),H(!1),J(""),V(""),$(""),d.ZP.success("Password changed successfully!")}catch(a){var e,t;d.ZP.error((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||"Failed to change password")}finally{et(!1)}};if(F)return(0,s.jsx)(l.gb,{text:"Loading profile..."});let ei=R.slice(-10).map((e,t)=>({name:"Test ".concat(t+1),score:e.score,date:new Date(e.timestamp).toLocaleDateString()})),ec=U.map(e=>({name:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),value:e.percentage,correct:e.correct,total:e.total}));return(0,s.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 max-w-7xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Profile & Analytics"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-6 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("button",{onClick:()=>es("overview"),className:"px-4 py-2 font-medium transition ".concat("overview"===ea?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-900"),children:"Overview"}),(0,s.jsx)("button",{onClick:()=>es("analytics"),className:"px-4 py-2 font-medium transition ".concat("analytics"===ea?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-900"),children:"Analytics"}),(0,s.jsx)("button",{onClick:()=>es("history"),className:"px-4 py-2 font-medium transition ".concat("history"===ea?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-900"),children:"Test History"})]}),"overview"===ea&&(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(l.Zb,{children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(o.Z,{className:"w-12 h-12 text-white"})}),L?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(l.II,{type:"text",label:"Name",value:W,onChange:e=>Y(e.target.value)}),(0,s.jsx)(l.II,{type:"email",label:"Email",value:K,onChange:e=>q(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.zx,{onClick:el,isLoading:ee,variant:"primary",size:"small",className:"flex-1",children:"Save"}),(0,s.jsx)(l.zx,{onClick:()=>{z(!1),q((null==e?void 0:e.email)||""),Y((null==e?void 0:e.name)||"")},variant:"outline",size:"small",className:"flex-1",children:"Cancel"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:(null==e?void 0:e.name)||(null==e?void 0:e.email)}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500 mb-1",children:null==e?void 0:e.email}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500 mb-4 capitalize",children:null==e?void 0:e.role}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(l.zx,{onClick:()=>z(!0),variant:"outline",size:"small",className:"w-full",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),(0,s.jsxs)(l.zx,{onClick:()=>H(!M),variant:"outline",size:"small",className:"w-full",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]}),M&&!L&&(0,s.jsxs)("div",{className:"mt-4 space-y-3 border-t pt-4",children:[(0,s.jsx)(l.II,{type:"password",label:"Current Password",value:G,onChange:e=>J(e.target.value)}),(0,s.jsx)(l.II,{type:"password",label:"New Password",value:Q,onChange:e=>V(e.target.value)}),(0,s.jsx)(l.II,{type:"password",label:"Confirm Password",value:X,onChange:e=>$(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.zx,{onClick:en,isLoading:ee,variant:"primary",size:"small",className:"flex-1",children:"Update"}),(0,s.jsx)(l.zx,{onClick:()=>{H(!1),J(""),V(""),$("")},variant:"outline",size:"small",className:"flex-1",children:"Cancel"})]})]})]})})}),(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Performance Overview"}),a?(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,s.jsx)(g.Z,{className:"w-8 h-8 text-primary mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a.total_tests}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Tests Taken"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-success/10 rounded-lg",children:[(0,s.jsx)(u.Z,{className:"w-8 h-8 text-success mx-auto mb-2"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[a.average_score.toFixed(1),"%"]}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Avg Score"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-warning/10 rounded-lg",children:[(0,s.jsx)(h.Z,{className:"w-8 h-8 text-warning mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a.strong_topics.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Strong Topics"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-danger/10 rounded-lg",children:[(0,s.jsx)(y.Z,{className:"w-8 h-8 text-danger mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a.weak_topics.length}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Needs Work"})]})]}):(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"No analytics available yet. Take a quiz to see your performance!"})]}),a&&a.strong_topics.length>0&&(0,s.jsxs)(l.Zb,{className:"mt-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"w-5 h-5 text-warning"}),"Strong Topics"]}),(0,s.jsx)("div",{className:"space-y-2",children:a.strong_topics.slice(0,5).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-success/5 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm",children:e.topic_name}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 dark:text-gray-500",children:[e.correct," / ",e.total," correct"]})]}),(0,s.jsxs)("div",{className:"text-lg font-bold text-success",children:[e.percentage.toFixed(0),"%"]})]},t))})]}),a&&a.weak_topics.length>0&&(0,s.jsxs)(l.Zb,{className:"mt-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5 text-danger"}),"Topics to Improve"]}),(0,s.jsx)("div",{className:"space-y-2",children:a.weak_topics.slice(0,5).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-danger/5 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm",children:e.topic_name}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 dark:text-gray-500",children:[e.correct," / ",e.total," correct"]})]}),(0,s.jsxs)("div",{className:"text-lg font-bold text-danger",children:[e.percentage.toFixed(0),"%"]})]},t))})]})]}),a&&a.improvement_suggestions.length>0&&(0,s.jsx)("div",{className:"lg:col-span-3",children:(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),"AI Study Recommendations"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.improvement_suggestions.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100",children:e})]},t))})]})})]}),"analytics"===ea&&(0,s.jsxs)("div",{className:"space-y-6",children:[ei.length>0&&(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Performance Over Time"}),(0,s.jsx)(f.h,{width:"100%",height:300,children:(0,s.jsxs)(b.w,{data:ei,children:[(0,s.jsx)(N.q,{strokeDasharray:"3 3"}),(0,s.jsx)(v.K,{dataKey:"name"}),(0,s.jsx)(w.B,{domain:[0,100]}),(0,s.jsx)(k.u,{}),(0,s.jsx)(S.D,{}),(0,s.jsx)(T.x,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",r:4}})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ec.length>0&&(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Difficulty-wise Performance"}),(0,s.jsx)(f.h,{width:"100%",height:300,children:(0,s.jsxs)(P.u,{children:[(0,s.jsx)(_.b,{data:ec,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:a}=e;return"".concat(t,": ").concat(a.toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:ec.map((e,t)=>(0,s.jsx)(A.b,{fill:C[t%C.length]},"cell-".concat(t)))}),(0,s.jsx)(k.u,{})]})}),(0,s.jsx)("div",{className:"mt-4 space-y-2",children:ec.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C[t%C.length]}}),(0,s.jsx)("span",{className:"text-gray-700 dark:text-gray-300 dark:text-gray-600",children:e.name})]}),(0,s.jsxs)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:[e.correct,"/",e.total," (",e.value.toFixed(0),"%)"]})]},t))})]}),U.length>0&&(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Accuracy by Difficulty"}),(0,s.jsx)(f.h,{width:"100%",height:300,children:(0,s.jsxs)(E.v,{data:U,children:[(0,s.jsx)(N.q,{strokeDasharray:"3 3"}),(0,s.jsx)(v.K,{dataKey:"difficulty"}),(0,s.jsx)(w.B,{domain:[0,100]}),(0,s.jsx)(k.u,{}),(0,s.jsx)(S.D,{}),(0,s.jsx)(O.$,{dataKey:"percentage",fill:"#3B82F6",name:"Accuracy %"})]})})]})]})]}),"history"===ea&&(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Test History"}),R.length>0?(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 dark:text-gray-600",children:"Date"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 dark:text-gray-600",children:"Topic"}),(0,s.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 dark:text-gray-600",children:"Score"}),(0,s.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 dark:text-gray-600",children:"Correct"}),(0,s.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 dark:text-gray-600",children:"Time"}),(0,s.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300 dark:text-gray-600",children:"Percentile"})]})}),(0,s.jsx)("tbody",{children:R.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 dark:bg-gray-800",children:[(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:new Date(e.timestamp).toLocaleDateString()})]})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"N/A"})}),(0,s.jsx)("td",{className:"py-3 px-4 text-center",children:(0,s.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(e.score>=80?"bg-success/10 text-success":e.score>=60?"bg-warning/10 text-warning":"bg-danger/10 text-danger"),children:[e.score.toFixed(1),"%"]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-center",children:(0,s.jsxs)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:[e.correct_count,"/",e.total_questions]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),(0,s.jsxs)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:[Math.floor(e.time_taken/60),"m ",e.time_taken%60,"s"]})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-center",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-primary",children:[e.percentile.toFixed(0),"th"]})})]},t))})]})}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(g.Z,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Tests Taken Yet"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Start taking quizzes to see your history!"})]})]})]})}},36919:function(e,t,a){"use strict";a.d(t,{g:function(){return r}});var s=a(57437);a(2265);let r=e=>{let{text:t,size:a="large",fullScreen:r=!0}=e,l=(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,s.jsxs)("svg",{className:"animate-spin ".concat({small:"h-6 w-6",medium:"h-10 w-10",large:"h-12 w-12"}[a]," text-primary"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&(0,s.jsx)("p",{className:"text-gray-600 text-center",children:t})]});return r?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen p-5",children:l}):(0,s.jsx)("div",{className:"flex items-center justify-center p-5",children:l})};t.Z=r},88900:function(e,t,a){"use strict";a.d(t,{zx:function(){return i},Zb:function(){return d},II:function(){return c},gb:function(){return o.g}});var s=a(57437);a(2265);var r=a(61994),l=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}let i=e=>{let{variant:t="primary",size:a="medium",children:r,className:l,disabled:i,isLoading:c,...d}=e;return(0,s.jsx)("button",{className:n("inline-flex items-center justify-center rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary hover:bg-primary-dark text-white shadow-md hover:shadow-lg",secondary:"bg-secondary hover:bg-secondary-dark text-white shadow-md hover:shadow-lg",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",danger:"bg-danger hover:bg-danger-dark text-white shadow-md hover:shadow-lg"}[t],{small:"px-4 py-2 text-sm min-h-[32px]",medium:"px-6 py-3 text-base min-h-[44px]",large:"px-8 py-4 text-lg min-h-[52px]"}[a],l),disabled:i||c,...d,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r})},c=e=>{let{label:t,error:a,className:r,containerClassName:l,...i}=e;return(0,s.jsxs)("div",{className:n("mb-4",l),children:[t&&(0,s.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-2",children:t}),(0,s.jsx)("input",{className:n("w-full px-4 py-3 border rounded-lg text-base bg-white","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","placeholder:text-gray-400",a?"border-red-500":"border-gray-300",r),...i}),a&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:a})]})},d=e=>{let{children:t,className:a,padding:r="medium"}=e;return(0,s.jsx)("div",{className:n("bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 dark:border-gray-700",{none:"p-0",small:"p-3",medium:"p-4",large:"p-6"}[r],a),children:t})};var o=a(36919)},30949:function(e,t,a){"use strict";a.d(t,{P:function(){return s}});let s={AUTH_LOGIN:"/auth/login",AUTH_SIGNUP:"/auth/signup",AUTH_ME:"/auth/me",FORGOT_PASSWORD:"/forgot-password",RESET_PASSWORD:"/reset-password",PROFILE_UPDATE:"/profile/update",EXAMS:"/exams",SUBJECTS:"/subjects",CHAPTERS:"/chapters",TOPICS:"/topics",SUB_TOPICS:"/sub-topics",SECTIONS:"/sections",SUB_SECTIONS:"/sub-sections",QUESTIONS:"/questions",QUESTIONS_FILTERED:"/questions/filtered",SEARCH:"/search",TESTS_SUBMIT:"/tests/submit",TESTS_HISTORY:"/tests/history",BOOKMARKS:"/bookmarks",BOOKMARKS_BATCH:"/bookmarks/batch",ANALYTICS_PERFORMANCE:"/analytics/performance",ANALYTICS_DIFFICULTY:"/analytics/difficulty-breakdown",RECOMMENDATIONS:"/recommendations/tests",LEADERBOARD:"/leaderboard",LEADERBOARD_FILTERED:"/leaderboard/filtered"}},14362:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return c},a:function(){return d}});var s=a(57437),r=a(2265),l=a(83389),n=a(99376);let i=(0,r.createContext)(void 0),c=e=>{let{children:t}=e,[a,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),x=(0,n.useRouter)();(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await l.O.getCurrentUser();c(e)}catch(e){l.O.logout()}finally{o(!1)}},g=async e=>{c((await l.O.login(e)).user)},u=async e=>{c((await l.O.signup(e)).user)};return(0,s.jsx)(i.Provider,{value:{user:a,loading:d,login:g,signup:u,logout:()=>{l.O.logout(),c(null),x.push("/auth/login")},isAuthenticated:!!a,updateUser:e=>{c(e)}},children:t})},d=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},3227:function(e,t,a){"use strict";a.d(t,{x:function(){return n}});var s=a(83464),r=a(88854);class l{setupInterceptors(){this.client.interceptors.request.use(e=>{let t=r.t.getToken();return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(r.t.clearAll(),window.location.href="/auth/login"),Promise.reject(e)})}get instance(){return this.client}constructor(){this.client=s.Z.create({baseURL:"http://localhost:8001/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let n=new l().instance},83389:function(e,t,a){"use strict";a.d(t,{O:function(){return n}});var s=a(3227),r=a(30949),l=a(88854);let n={async login(e){let t=(await s.x.post(r.P.AUTH_LOGIN,e)).data;return l.t.setToken(t.access_token),l.t.setUserData(t.user),t},async signup(e){let t=(await s.x.post(r.P.AUTH_SIGNUP,e)).data;return l.t.setToken(t.access_token),l.t.setUserData(t.user),t},forgotPassword:async e=>(await s.x.post(r.P.FORGOT_PASSWORD,{email:e})).data,resetPassword:async(e,t,a)=>(await s.x.post(r.P.RESET_PASSWORD,{email:e,reset_code:t,new_password:a})).data,getCurrentUser:async()=>(await s.x.get(r.P.AUTH_ME)).data,updateProfile:async e=>(await s.x.put(r.P.PROFILE_UPDATE,e)).data,changePassword:async(e,t)=>(await s.x.post("".concat(r.P.PROFILE_UPDATE,"/password"),{current_password:e,new_password:t})).data,logout(){l.t.clearAll()}}},29923:function(e,t,a){"use strict";a.d(t,{R:function(){return l}});var s=a(3227),r=a(30949);let l={getExams:async()=>(await s.x.get(r.P.EXAMS)).data,getSubjects:async e=>(await s.x.get(r.P.SUBJECTS,{params:e?{exam_id:e}:{}})).data,getChapters:async e=>(await s.x.get(r.P.CHAPTERS,{params:e?{subject_id:e}:{}})).data,getTopics:async e=>(await s.x.get(r.P.TOPICS,{params:e?{chapter_id:e}:{}})).data,getSubTopics:async e=>(await s.x.get(r.P.SUB_TOPICS,{params:e?{topic_id:e}:{}})).data,getSections:async e=>(await s.x.get(r.P.SECTIONS,{params:e?{sub_topic_id:e}:{}})).data,getSubSections:async e=>(await s.x.get(r.P.SUB_SECTIONS,{params:e?{section_id:e}:{}})).data,getQuestions:async e=>(await s.x.get(r.P.QUESTIONS,{params:e})).data,getFilteredQuestions:async e=>(await s.x.get(r.P.QUESTIONS_FILTERED,{params:e})).data,search:async(e,t)=>(await s.x.get(r.P.SEARCH,{params:{query:e,...t}})).data,submitTest:async e=>(await s.x.post(r.P.TESTS_SUBMIT,e)).data,getTestHistory:async()=>(await s.x.get(r.P.TESTS_HISTORY)).data,createBookmark:async e=>(await s.x.post(r.P.BOOKMARKS,{question_id:e})).data,getBookmarks:async()=>(await s.x.get(r.P.BOOKMARKS)).data,async deleteBookmark(e){await s.x.delete("".concat(r.P.BOOKMARKS,"/").concat(e))},batchBookmarks:async(e,t)=>(await s.x.post(r.P.BOOKMARKS_BATCH,{action:e,question_ids:t})).data,getUserAnalytics:async()=>(await s.x.get(r.P.ANALYTICS_PERFORMANCE)).data,getDifficultyBreakdown:async()=>(await s.x.get(r.P.ANALYTICS_DIFFICULTY)).data,getRecommendations:async()=>(await s.x.get(r.P.RECOMMENDATIONS)).data,async getLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return(await s.x.get(r.P.LEADERBOARD,{params:{limit:e}})).data},getFilteredLeaderboard:async e=>(await s.x.get(r.P.LEADERBOARD_FILTERED,{params:e})).data}},88854:function(e,t,a){"use strict";a.d(t,{t:function(){return l}});let s="quiz_app_auth_token",r="quiz_app_user_data",l={setToken(e){localStorage.setItem(s,e),document.cookie="token=".concat(e,"; path=/; max-age=").concat(604800)},getToken:()=>localStorage.getItem(s),removeToken(){localStorage.removeItem(s),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},setUserData(e){localStorage.setItem(r,JSON.stringify(e))},getUserData(){{let e=localStorage.getItem(r);return e?JSON.parse(e):null}},clearAll(){localStorage.clear(),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}},function(e){e.O(0,[137,464,64,682,700,971,117,744],function(){return e(e.s=32924)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{42449:function(e,t,r){Promise.resolve().then(r.bind(r,50164))},50164:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(57437),a=r(2265),l=r(99376),n=r(88900),i=r(71837),c=r(19778),d=r(1442),o=r(20301),x=r(31847),m=r(42871),u=r(52700),h=r(73910),g=r(93439),p=r(60525),b=r(81315),j=r(33756);function f(){let e,t;let r=(0,l.useRouter)(),f=(0,l.useSearchParams)(),[y,N]=(0,a.useState)(!0),[v,w]=(0,a.useState)([]),[k,C]=(0,a.useState)(0),[_,Z]=(0,a.useState)(new Map),[S,A]=(0,a.useState)(!1);f.get("mode");let z=f.get("difficulty")||"all",P=parseInt(f.get("count")||"20");(0,a.useEffect)(()=>{I()},[]);let I=async()=>{try{N(!0);let e={limit:P};"all"!==z&&(e.difficulty=z);let t=(await i.Z.get("/questions",{params:e})).data||[];w(t);let r=new Map;t.forEach(e=>{r.set(e._id,{questionId:e._id,selectedOption:null,isCorrect:null,showAnswer:!1})}),Z(r)}catch(e){console.error("Failed to fetch questions:",e)}finally{N(!1)}},O=e=>{let t=v[k],r=_.get(t._id);if(!r)return;let s=e===t.correct_answer,a={...r,selectedOption:e,isCorrect:s,showAnswer:!0},l=new Map(_);l.set(t._id,a),Z(l)};if(y)return(0,s.jsx)(n.gb,{});if(0===v.length)return(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"No Questions Found"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 dark:text-gray-500 mb-6",children:"No questions available for the selected criteria."}),(0,s.jsx)(n.zx,{onClick:()=>r.push("/dashboard/practice/start"),children:"Back to Configuration"})]});let T=v[k],M=_.get(T._id),q=(e=0,t=0,_.forEach(r=>{null!==r.selectedOption&&(e++,r.isCorrect&&t++)}),{total:v.length,answered:e,correct:t,incorrect:e-t,unanswered:v.length-e,accuracy:e>0?(t/e*100).toFixed(1):"0"});return S?(0,s.jsx)("div",{className:"p-4 md:p-6 lg:p-8 max-w-4xl mx-auto",children:(0,s.jsxs)(n.Zb,{className:"p-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center",children:"Practice Session Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:q.total}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Total Questions"})]}),(0,s.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-green-600",children:q.correct}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Correct"})]}),(0,s.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-red-600",children:q.incorrect}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Incorrect"})]}),(0,s.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg text-center",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[q.accuracy,"%"]}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500",children:"Accuracy"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[(0,s.jsx)(n.zx,{variant:"outline",onClick:()=>A(!1),children:"Review Questions"}),(0,s.jsx)(n.zx,{onClick:()=>r.push("/dashboard/practice/start"),children:"New Practice Session"}),(0,s.jsxs)(n.zx,{variant:"outline",onClick:()=>r.push("/dashboard"),children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})]})]})}):(0,s.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Practice Mode"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 dark:text-gray-500",children:["Question ",k+1," of ",v.length," â€¢ No timer"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-lg",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-green-700",children:["Correct: ",q.correct]})}),(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-lg",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["Answered: ",q.answered,"/",q.total]})})]})]}),(0,s.jsx)("div",{className:"mb-6 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat((k+1)/v.length*100,"%")}})}),(0,s.jsxs)(n.Zb,{className:"mb-6 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("easy"===T.difficulty?"bg-green-100 text-green-700":"medium"===T.difficulty?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:T.difficulty}),T.tags&&T.tags.length>0&&(0,s.jsx)("div",{className:"flex gap-2",children:T.tags.slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:e},t))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:T.question_text}),T.formula&&(0,s.jsx)("div",{className:"my-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,s.jsx)(g.UG,{remarkPlugins:[p.Z,b.Z],rehypePlugins:[j.Z],children:T.formula})}),T.image_url&&(0,s.jsx)("div",{className:"my-4",children:(0,s.jsx)("img",{src:T.image_url,alt:"Question diagram",className:"max-w-full h-auto rounded-lg"})})]}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:T.options.map((e,t)=>{let r=(null==M?void 0:M.selectedOption)===t,a=t===T.correct_answer,l=null==M?void 0:M.showAnswer,n="border-2 border-gray-300 hover:border-gray-400";return l?a?n="border-2 border-green-500 bg-green-50":r&&!a&&(n="border-2 border-red-500 bg-red-50"):r&&(n="border-2 border-blue-500 bg-blue-50"),(0,s.jsx)("button",{onClick:()=>O(t),disabled:null==M?void 0:M.showAnswer,className:"w-full p-4 rounded-lg text-left transition-all ".concat(n," ").concat((null==M?void 0:M.showAnswer)?"cursor-default":"cursor-pointer"),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"font-semibold mr-3 text-gray-700 dark:text-gray-300 dark:text-gray-600",children:[String.fromCharCode(65+t),"."]}),(0,s.jsx)("span",{className:"flex-1",children:e}),l&&a&&(0,s.jsx)(d.Z,{className:"w-6 h-6 text-green-600"}),l&&r&&!a&&(0,s.jsx)(o.Z,{className:"w-6 h-6 text-red-600"})]})},t)})}),!(null==M?void 0:M.showAnswer)&&(null==M?void 0:M.selectedOption)!==null&&(0,s.jsx)(n.zx,{onClick:()=>{let e=v[k],t=_.get(e._id);if(!t)return;let r={...t,showAnswer:!t.showAnswer},s=new Map(_);s.set(e._id,r),Z(s)},variant:"outline",className:"w-full mb-4",children:"Show Correct Answer"}),(null==M?void 0:M.showAnswer)&&(0,s.jsxs)("div",{className:"space-y-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[T.hint&&(0,s.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-yellow-600 mr-2 mt-1 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Hint"}),(0,s.jsx)("p",{className:"text-yellow-800",children:T.hint})]})]})}),T.explanation&&(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(m.Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2 mt-1 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Explanation"}),(0,s.jsx)("div",{className:"text-blue-800 prose prose-sm max-w-none",children:(0,s.jsx)(g.UG,{remarkPlugins:[p.Z,b.Z],rehypePlugins:[j.Z],children:T.explanation})})]})]})}),T.solution&&(0,s.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"Detailed Solution"}),(0,s.jsx)("div",{className:"text-green-800 prose prose-sm max-w-none",children:(0,s.jsx)(g.UG,{remarkPlugins:[p.Z,b.Z],rehypePlugins:[j.Z],children:T.solution})})]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(n.zx,{onClick:()=>{k>0&&C(k-1)},disabled:0===k,variant:"outline",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 mr-2"}),"Previous"]}),(0,s.jsx)("div",{className:"flex gap-2",children:k===v.length-1?(0,s.jsx)(n.zx,{onClick:()=>{A(!0)},children:"Finish Practice"}):(0,s.jsxs)(n.zx,{onClick:()=>{k<v.length-1&&C(k+1)},children:["Next",(0,s.jsx)(h.Z,{className:"w-5 h-5 ml-2"})]})})]}),(0,s.jsxs)(n.Zb,{className:"mt-6 p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Question Palette"}),(0,s.jsx)("div",{className:"grid grid-cols-8 md:grid-cols-12 gap-2",children:v.map((e,t)=>{let r=_.get(e._id),a="bg-gray-200";return(null==r?void 0:r.selectedOption)!==null&&(null==r?void 0:r.isCorrect)?a="bg-green-500 text-white":(null==r?void 0:r.selectedOption)===null||(null==r?void 0:r.isCorrect)?(null==r?void 0:r.selectedOption)!==null&&(a="bg-blue-500 text-white"):a="bg-red-500 text-white",(0,s.jsx)("button",{onClick:()=>C(t),className:"w-10 h-10 rounded-lg font-medium transition-all ".concat(a," ").concat(t===k?"ring-2 ring-gray-900":""),children:t+1},e._id)})}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),(0,s.jsx)("span",{children:"Correct"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded mr-2"}),(0,s.jsx)("span",{children:"Incorrect"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-200 dark:bg-gray-700 rounded mr-2"}),(0,s.jsx)("span",{children:"Not Attempted"})]})]})]})]})}function y(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(n.gb,{}),children:(0,s.jsx)(f,{})})}r(2446)},36919:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var s=r(57437);r(2265);let a=e=>{let{text:t,size:r="large",fullScreen:a=!0}=e,l=(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,s.jsxs)("svg",{className:"animate-spin ".concat({small:"h-6 w-6",medium:"h-10 w-10",large:"h-12 w-12"}[r]," text-primary"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&(0,s.jsx)("p",{className:"text-gray-600 text-center",children:t})]});return a?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen p-5",children:l}):(0,s.jsx)("div",{className:"flex items-center justify-center p-5",children:l})};t.Z=a},88900:function(e,t,r){"use strict";r.d(t,{zx:function(){return i},Zb:function(){return d},II:function(){return c},gb:function(){return o.g}});var s=r(57437);r(2265);var a=r(61994),l=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.m6)((0,a.W)(t))}let i=e=>{let{variant:t="primary",size:r="medium",children:a,className:l,disabled:i,isLoading:c,...d}=e;return(0,s.jsx)("button",{className:n("inline-flex items-center justify-center rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary hover:bg-primary-dark text-white shadow-md hover:shadow-lg",secondary:"bg-secondary hover:bg-secondary-dark text-white shadow-md hover:shadow-lg",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",danger:"bg-danger hover:bg-danger-dark text-white shadow-md hover:shadow-lg"}[t],{small:"px-4 py-2 text-sm min-h-[32px]",medium:"px-6 py-3 text-base min-h-[44px]",large:"px-8 py-4 text-lg min-h-[52px]"}[r],l),disabled:i||c,...d,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a})},c=e=>{let{label:t,error:r,className:a,containerClassName:l,...i}=e;return(0,s.jsxs)("div",{className:n("mb-4",l),children:[t&&(0,s.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-2",children:t}),(0,s.jsx)("input",{className:n("w-full px-4 py-3 border rounded-lg text-base bg-white","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","placeholder:text-gray-400",r?"border-red-500":"border-gray-300",a),...i}),r&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:r})]})},d=e=>{let{children:t,className:r,padding:a="medium"}=e;return(0,s.jsx)("div",{className:n("bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 dark:border-gray-700",{none:"p-0",small:"p-3",medium:"p-4",large:"p-6"}[a],r),children:t})};var o=r(36919)},3227:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var s=r(83464),a=r(88854);class l{setupInterceptors(){this.client.interceptors.request.use(e=>{let t=a.t.getToken();return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(a.t.clearAll(),window.location.href="/auth/login"),Promise.reject(e)})}get instance(){return this.client}constructor(){this.client=s.Z.create({baseURL:"http://localhost:8001/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let n=new l().instance},71837:function(e,t,r){"use strict";let s=r(3227).x;t.Z=s},88854:function(e,t,r){"use strict";r.d(t,{t:function(){return l}});let s="quiz_app_auth_token",a="quiz_app_user_data",l={setToken(e){localStorage.setItem(s,e),document.cookie="token=".concat(e,"; path=/; max-age=").concat(604800)},getToken:()=>localStorage.getItem(s),removeToken(){localStorage.removeItem(s),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},setUserData(e){localStorage.setItem(a,JSON.stringify(e))},getUserData(){{let e=localStorage.getItem(a);return e?JSON.parse(e):null}},clearAll(){localStorage.clear(),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}},function(e){e.O(0,[329,954,137,464,381,971,117,744],function(){return e(e.s=42449)}),_N_E=e.O()}]);
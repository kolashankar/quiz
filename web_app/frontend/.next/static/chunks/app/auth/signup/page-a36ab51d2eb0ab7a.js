(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{35151:function(e,t,r){Promise.resolve().then(r.bind(r,53669))},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},53669:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(57437),s=r(2265),n=r(27648),o=r(99376),i=r(14362),l=r(88900),c=r(69064);function u(){let[e,t]=(0,s.useState)(""),[r,u]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[h,p]=(0,s.useState)(!1),{signup:x}=(0,i.a)(),g=(0,o.useRouter)(),f=async t=>{if(t.preventDefault(),!e||!r||!d){c.ZP.error("Please fill in all fields");return}if(r!==d){c.ZP.error("Passwords do not match");return}if(r.length<6){c.ZP.error("Password must be at least 6 characters");return}p(!0);try{await x({email:e,password:r,role:"user"}),c.ZP.success("Account created successfully!"),g.push("/dashboard")}catch(e){var a,s;c.ZP.error((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.detail)||"Signup failed")}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-primary/10 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Start your learning journey today"})]}),(0,a.jsx)(l.Zb,{className:"p-6",children:(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsx)(l.II,{type:"email",label:"Email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",autoComplete:"email",required:!0}),(0,a.jsx)(l.II,{type:"password",label:"Password",value:r,onChange:e=>u(e.target.value),placeholder:"Create a password",autoComplete:"new-password",required:!0}),(0,a.jsx)(l.II,{type:"password",label:"Confirm Password",value:d,onChange:e=>m(e.target.value),placeholder:"Confirm your password",autoComplete:"new-password",required:!0}),(0,a.jsx)(l.zx,{type:"submit",variant:"primary",size:"large",className:"w-full",isLoading:h,children:"Create Account"})]})}),(0,a.jsxs)("div",{className:"text-center mt-6",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Already have an account? "}),(0,a.jsx)(n.default,{href:"/auth/login",className:"text-primary hover:text-primary-dark font-semibold",children:"Sign In"})]})]})})}},36919:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var a=r(57437);r(2265);let s=e=>{let{text:t,size:r="large",fullScreen:s=!0}=e,n=(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,a.jsxs)("svg",{className:"animate-spin ".concat({small:"h-6 w-6",medium:"h-10 w-10",large:"h-12 w-12"}[r]," text-primary"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&(0,a.jsx)("p",{className:"text-gray-600 text-center",children:t})]});return s?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen p-5",children:n}):(0,a.jsx)("div",{className:"flex items-center justify-center p-5",children:n})};t.Z=s},88900:function(e,t,r){"use strict";r.d(t,{zx:function(){return i},Zb:function(){return c},II:function(){return l},gb:function(){return u.g}});var a=r(57437);r(2265);var s=r(61994),n=r(53335);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}let i=e=>{let{variant:t="primary",size:r="medium",children:s,className:n,disabled:i,isLoading:l,...c}=e;return(0,a.jsx)("button",{className:o("inline-flex items-center justify-center rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary hover:bg-primary-dark text-white shadow-md hover:shadow-lg",secondary:"bg-secondary hover:bg-secondary-dark text-white shadow-md hover:shadow-lg",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",danger:"bg-danger hover:bg-danger-dark text-white shadow-md hover:shadow-lg"}[t],{small:"px-4 py-2 text-sm min-h-[32px]",medium:"px-6 py-3 text-base min-h-[44px]",large:"px-8 py-4 text-lg min-h-[52px]"}[r],n),disabled:i||l,...c,children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):s})},l=e=>{let{label:t,error:r,className:s,containerClassName:n,...i}=e;return(0,a.jsxs)("div",{className:o("mb-4",n),children:[t&&(0,a.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-2",children:t}),(0,a.jsx)("input",{className:o("w-full px-4 py-3 border rounded-lg text-base bg-white","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","placeholder:text-gray-400",r?"border-red-500":"border-gray-300",s),...i}),r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:r})]})},c=e=>{let{children:t,className:r,padding:s="medium"}=e;return(0,a.jsx)("div",{className:o("bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 dark:border-gray-700",{none:"p-0",small:"p-3",medium:"p-4",large:"p-6"}[s],r),children:t})};var u=r(36919)},30949:function(e,t,r){"use strict";r.d(t,{P:function(){return a}});let a={AUTH_LOGIN:"/auth/login",AUTH_SIGNUP:"/auth/signup",AUTH_ME:"/auth/me",FORGOT_PASSWORD:"/forgot-password",RESET_PASSWORD:"/reset-password",PROFILE_UPDATE:"/profile/update",EXAMS:"/exams",SUBJECTS:"/subjects",CHAPTERS:"/chapters",TOPICS:"/topics",SUB_TOPICS:"/sub-topics",SECTIONS:"/sections",SUB_SECTIONS:"/sub-sections",QUESTIONS:"/questions",QUESTIONS_FILTERED:"/questions/filtered",SEARCH:"/search",TESTS_SUBMIT:"/tests/submit",TESTS_HISTORY:"/tests/history",BOOKMARKS:"/bookmarks",BOOKMARKS_BATCH:"/bookmarks/batch",ANALYTICS_PERFORMANCE:"/analytics/performance",ANALYTICS_DIFFICULTY:"/analytics/difficulty-breakdown",RECOMMENDATIONS:"/recommendations/tests",LEADERBOARD:"/leaderboard",LEADERBOARD_FILTERED:"/leaderboard/filtered"}},14362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return c}});var a=r(57437),s=r(2265),n=r(83389),o=r(99376);let i=(0,s.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),d=(0,o.useRouter)();(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await n.O.getCurrentUser();l(e)}catch(e){n.O.logout()}finally{u(!1)}},h=async e=>{l((await n.O.login(e)).user)},p=async e=>{l((await n.O.signup(e)).user)};return(0,a.jsx)(i.Provider,{value:{user:r,loading:c,login:h,signup:p,logout:()=>{n.O.logout(),l(null),d.push("/auth/login")},isAuthenticated:!!r,updateUser:e=>{l(e)}},children:t})},c=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},3227:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var a=r(83464),s=r(88854);class n{setupInterceptors(){this.client.interceptors.request.use(e=>{let t=s.t.getToken();return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(s.t.clearAll(),window.location.href="/auth/login"),Promise.reject(e)})}get instance(){return this.client}constructor(){this.client=a.Z.create({baseURL:"http://localhost:8001/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let o=new n().instance},83389:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var a=r(3227),s=r(30949),n=r(88854);let o={async login(e){let t=(await a.x.post(s.P.AUTH_LOGIN,e)).data;return n.t.setToken(t.access_token),n.t.setUserData(t.user),t},async signup(e){let t=(await a.x.post(s.P.AUTH_SIGNUP,e)).data;return n.t.setToken(t.access_token),n.t.setUserData(t.user),t},forgotPassword:async e=>(await a.x.post(s.P.FORGOT_PASSWORD,{email:e})).data,resetPassword:async(e,t,r)=>(await a.x.post(s.P.RESET_PASSWORD,{email:e,reset_code:t,new_password:r})).data,getCurrentUser:async()=>(await a.x.get(s.P.AUTH_ME)).data,updateProfile:async e=>(await a.x.put(s.P.PROFILE_UPDATE,e)).data,changePassword:async(e,t)=>(await a.x.post("".concat(s.P.PROFILE_UPDATE,"/password"),{current_password:e,new_password:t})).data,logout(){n.t.clearAll()}}},88854:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});let a="quiz_app_auth_token",s="quiz_app_user_data",n={setToken(e){localStorage.setItem(a,e),document.cookie="token=".concat(e,"; path=/; max-age=").concat(604800)},getToken:()=>localStorage.getItem(a),removeToken(){localStorage.removeItem(a),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},setUserData(e){localStorage.setItem(s,JSON.stringify(e))},getUserData(){{let e=localStorage.getItem(s);return e?JSON.parse(e):null}},clearAll(){localStorage.clear(),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}},function(e){e.O(0,[137,464,64,648,971,117,744],function(){return e(e.s=35151)}),_N_E=e.O()}]);
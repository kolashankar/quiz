(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{62676:function(e,t,r){Promise.resolve().then(r.t.bind(r,39974,23)),Promise.resolve().then(r.bind(r,69064)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,14362)),Promise.resolve().then(r.bind(r,69734))},99376:function(e,t,r){"use strict";var s=r(35475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},30949:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});let s={AUTH_LOGIN:"/auth/login",AUTH_SIGNUP:"/auth/signup",AUTH_ME:"/auth/me",FORGOT_PASSWORD:"/forgot-password",RESET_PASSWORD:"/reset-password",PROFILE_UPDATE:"/profile/update",EXAMS:"/exams",SUBJECTS:"/subjects",CHAPTERS:"/chapters",TOPICS:"/topics",SUB_TOPICS:"/sub-topics",SECTIONS:"/sections",SUB_SECTIONS:"/sub-sections",QUESTIONS:"/questions",QUESTIONS_FILTERED:"/questions/filtered",SEARCH:"/search",TESTS_SUBMIT:"/tests/submit",TESTS_HISTORY:"/tests/history",BOOKMARKS:"/bookmarks",BOOKMARKS_BATCH:"/bookmarks/batch",ANALYTICS_PERFORMANCE:"/analytics/performance",ANALYTICS_DIFFICULTY:"/analytics/difficulty-breakdown",RECOMMENDATIONS:"/recommendations/tests",LEADERBOARD:"/leaderboard",LEADERBOARD_FILTERED:"/leaderboard/filtered"}},14362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return c}});var s=r(57437),a=r(2265),n=r(83389),o=r(99376);let u=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,a.useState)(null),[c,l]=(0,a.useState)(!0),d=(0,o.useRouter)();(0,a.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await n.O.getCurrentUser();i(e)}catch(e){n.O.logout()}finally{l(!1)}},m=async e=>{i((await n.O.login(e)).user)},S=async e=>{i((await n.O.signup(e)).user)};return(0,s.jsx)(u.Provider,{value:{user:r,loading:c,login:m,signup:S,logout:()=>{n.O.logout(),i(null),d.push("/auth/login")},isAuthenticated:!!r,updateUser:e=>{i(e)}},children:t})},c=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},69734:function(e,t,r){"use strict";r.d(t,{F:function(){return u},ThemeProvider:function(){return o}});var s=r(57437),a=r(2265);let n=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)("light"),[u,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)o(e),document.documentElement.classList.toggle("dark","dark"===e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;o(e?"dark":"light"),document.documentElement.classList.toggle("dark",e)}i(!0)},[]);let c=e=>{o(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e)};return u?(0,s.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{c("light"===r?"dark":"light")},setTheme:c},children:t}):null}function u(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},3227:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var s=r(83464),a=r(88854);class n{setupInterceptors(){this.client.interceptors.request.use(e=>{let t=a.t.getToken();return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(a.t.clearAll(),window.location.href="/auth/login"),Promise.reject(e)})}get instance(){return this.client}constructor(){this.client=s.Z.create({baseURL:"http://localhost:8001/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let o=new n().instance},83389:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var s=r(3227),a=r(30949),n=r(88854);let o={async login(e){let t=(await s.x.post(a.P.AUTH_LOGIN,e)).data;return n.t.setToken(t.access_token),n.t.setUserData(t.user),t},async signup(e){let t=(await s.x.post(a.P.AUTH_SIGNUP,e)).data;return n.t.setToken(t.access_token),n.t.setUserData(t.user),t},forgotPassword:async e=>(await s.x.post(a.P.FORGOT_PASSWORD,{email:e})).data,resetPassword:async(e,t,r)=>(await s.x.post(a.P.RESET_PASSWORD,{email:e,reset_code:t,new_password:r})).data,getCurrentUser:async()=>(await s.x.get(a.P.AUTH_ME)).data,updateProfile:async e=>(await s.x.put(a.P.PROFILE_UPDATE,e)).data,changePassword:async(e,t)=>(await s.x.post("".concat(a.P.PROFILE_UPDATE,"/password"),{current_password:e,new_password:t})).data,logout(){n.t.clearAll()}}},88854:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});let s="quiz_app_auth_token",a="quiz_app_user_data",n={setToken(e){localStorage.setItem(s,e),document.cookie="token=".concat(e,"; path=/; max-age=").concat(604800)},getToken:()=>localStorage.getItem(s),removeToken(){localStorage.removeItem(s),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},setUserData(e){localStorage.setItem(a,JSON.stringify(e))},getUserData(){{let e=localStorage.getItem(a);return e?JSON.parse(e):null}},clearAll(){localStorage.clear(),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}},2778:function(){},39974:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[919,329,461,464,64,971,117,744],function(){return e(e.s=62676)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{34111:function(e,t,a){Promise.resolve().then(a.bind(a,93978))},93978:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(57437),r=a(2265),n=a(61601),l=a(43836),i=a(45974),c=a(88203),d=a(71230),o=a(69064),m=a(29501),x=a(27648);function u(){let[e,t]=(0,r.useState)([]),[a,u]=(0,r.useState)(!0),[h,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[y,b]=(0,r.useState)([]),{register:j,handleSubmit:v,reset:k,formState:{errors:w}}=(0,m.cI)();(0,r.useEffect)(()=>{N()},[]);let N=async()=>{try{u(!0);let e=await d.$s.getAll();t(e)}catch(e){o.ZP.error(e.message||"Failed to fetch exams")}finally{u(!1)}},E=async e=>{if(confirm('Are you sure you want to delete "'.concat(e.name,'"? This will delete all related subjects, chapters, and questions.')))try{await d.$s.delete(e.id),o.ZP.success("Exam deleted successfully"),N()}catch(e){o.ZP.error(e.message||"Failed to delete exam")}},C=async e=>{try{p?(await d.$s.update(p.id,e),o.ZP.success("Exam updated successfully")):(await d.$s.create(e),o.ZP.success("Exam created successfully")),g(!1),N()}catch(e){o.ZP.error(e.message||"Failed to save exam")}},A=async()=>{if(0===y.length){o.ZP.error("Please select exams to delete");return}if(confirm("Are you sure you want to delete ".concat(y.length," exam(s)?")))try{await Promise.all(y.map(e=>d.$s.delete(e))),o.ZP.success("".concat(y.length," exam(s) deleted successfully")),b([]),N()}catch(e){o.ZP.error(e.message||"Failed to delete exams")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Exams Management"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage competitive exams and their hierarchy"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[y.length>0&&(0,s.jsxs)("button",{onClick:A,className:"btn-secondary flex items-center space-x-2",children:[(0,s.jsx)(n.Z,{className:"h-5 w-5"}),(0,s.jsxs)("span",{children:["Delete (",y.length,")"]})]}),(0,s.jsxs)("button",{onClick:()=>{f(null),k({name:"",code:"",description:"",isActive:!0}),g(!0)},className:"btn-primary flex items-center space-x-2",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Add Exam"})]})]})]})})}),(0,s.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,s.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(x.default,{href:"/dashboard",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"Dashboard"})}),(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mx-2 text-gray-400",children:"/"}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:"Exams"})]})]})})}),(0,s.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsx)(i.w,{data:e,columns:[{key:"code",header:"Code",sortable:!0,render:e=>(0,s.jsx)("span",{className:"font-mono font-semibold text-primary-600 dark:text-primary-400",children:e.code})},{key:"name",header:"Name",sortable:!0},{key:"description",header:"Description",render:e=>(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.description||"N/A"})},{key:"isActive",header:"Status",sortable:!0,render:e=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:e.isActive?"Active":"Inactive"})},{key:"subjects",header:"Subjects",render:e=>{var t;return(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:(null===(t=e.subjects)||void 0===t?void 0:t.length)||0})}}],loading:a,onEdit:e=>{f(e),k({name:e.name,code:e.code,description:e.description||"",isActive:e.isActive}),g(!0)},onDelete:E,searchPlaceholder:"Search exams by name or code...",emptyMessage:"No exams found. Create your first exam to get started.",selectable:!0,selectedIds:y,onSelectionChange:b})}),(0,s.jsx)(c.u,{isOpen:h,onClose:()=>g(!1),title:p?"Edit Exam":"Create New Exam",size:"lg",children:(0,s.jsxs)("form",{onSubmit:v(C),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Exam Name *"}),(0,s.jsx)("input",{type:"text",...j("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:"input w-full",placeholder:"e.g., UPSC Civil Services"}),w.name&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:w.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Exam Code *"}),(0,s.jsx)("input",{type:"text",...j("code",{required:"Code is required",minLength:{value:2,message:"Code must be at least 2 characters"}}),className:"input w-full uppercase",placeholder:"e.g., UPSC",style:{textTransform:"uppercase"}}),w.code&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:w.code.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,s.jsx)("textarea",{...j("description"),rows:3,className:"input w-full",placeholder:"Brief description of the exam"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",...j("isActive"),id:"isActive",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,s.jsx)("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active (visible to users)"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>g(!1),className:"btn-secondary",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",className:"btn-primary",children:[p?"Update":"Create"," Exam"]})]})]})})]})}},52700:function(e,t,a){"use strict";var s=a(2265);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))});t.Z=r},73910:function(e,t,a){"use strict";var s=a(2265);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});t.Z=r},41556:function(e,t,a){"use strict";var s=a(2265);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=r},43836:function(e,t,a){"use strict";var s=a(2265);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=r},61601:function(e,t,a){"use strict";var s=a(2265);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=r}},function(e){e.O(0,[464,64,648,501,67,769,971,117,744],function(){return e(e.s=34111)}),_N_E=e.O()}]);
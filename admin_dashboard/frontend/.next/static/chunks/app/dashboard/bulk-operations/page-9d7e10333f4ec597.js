(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{68952:function(e,t,a){Promise.resolve().then(a.bind(a,75172))},75172:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(57437),r=a(2265),l=a(26647),i=a(61241);let n=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});var o=a(61601);let c=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))});function d(){var e,t,a;let[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[h,p]=(0,r.useState)("edit"),[v,g]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[N,k]=(0,r.useState)(""),[w,E]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[L,A]=(0,r.useState)(""),[B,D]=(0,r.useState)(""),[I,O]=(0,r.useState)("csv"),[Q,q]=(0,r.useState)(""),[R,_]=(0,r.useState)(null);(0,r.useEffect)(()=>{M()},[]);let M=async()=>{try{let e=await l.h.get("/admin/bulk-operations/statistics");x(e.data)}catch(e){console.error("Error fetching statistics:",e)}},z=async()=>{if(!v.trim()){_({type:"error",text:"Please enter question IDs"});return}u(!0);try{let e=v.split(",").map(e=>e.trim()),t={};f&&(t.difficulty=f),b&&(t.tags=b.split(",").map(e=>e.trim())),N&&(t.marks=parseInt(N)),""!==w&&(t.isActive=w);let a=await l.h.post("/admin/bulk-operations/questions/edit",{questionIds:e,updates:t});_({type:"success",text:a.data.message}),M(),g(""),j(""),y(""),k(""),E("")}catch(a){var e,t;_({type:"error",text:(null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||"Bulk edit failed"})}finally{u(!1)}},H=async()=>{if(!C.trim()&&!L&&""===B){_({type:"error",text:"Please provide question IDs or filters"});return}if(window.confirm("Are you sure you want to delete these questions? This action cannot be undone.")){u(!0);try{let e={};if(C.trim())e.questionIds=C.split(",").map(e=>e.trim());else{let t={};L&&(t.difficulty=L),""!==B&&(t.isActive=B),e.filters=t}let t=await l.h.post("/admin/bulk-operations/questions/delete",e);_({type:"success",text:t.data.message}),M(),S(""),A(""),D("")}catch(a){var e,t;_({type:"error",text:(null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||"Bulk delete failed"})}finally{u(!1)}}},P=async()=>{u(!0);try{let e=new URLSearchParams;e.append("format",I),Q&&e.append("difficulty",Q);let t=await l.h.get("/admin/bulk-operations/questions/export?".concat(e.toString()),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","questions_export.".concat(I)),document.body.appendChild(s),s.click(),s.remove(),_({type:"success",text:"Export completed successfully"})}catch(e){_({type:"error",text:"Export failed"})}finally{u(!1)}};return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bulk Operations"}),m&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Questions"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:m.totalQuestions})]}),(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:m.activeQuestions})]}),(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inactive"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:m.inactiveQuestions})]}),(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"By Difficulty"}),(0,s.jsxs)("p",{className:"text-xs mt-1",children:["Easy: ",(null===(e=m.byDifficulty)||void 0===e?void 0:e.easy)||0,", Medium: ",(null===(t=m.byDifficulty)||void 0===t?void 0:t.medium)||0,", Hard: ",(null===(a=m.byDifficulty)||void 0===a?void 0:a.hard)||0]})]})]}),R&&(0,s.jsx)("div",{className:"p-4 rounded-lg ".concat("success"===R.type?"bg-green-50 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-200"),children:R.text}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("nav",{className:"flex space-x-8 px-6 pt-6","aria-label":"Tabs",children:[{id:"edit",name:"Bulk Edit",icon:n},{id:"delete",name:"Bulk Delete",icon:o.Z},{id:"export",name:"Export",icon:c}].map(e=>{let t=e.icon;return(0,s.jsxs)("button",{onClick:()=>p(e.id),className:"".concat(h===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," flex items-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:[(0,s.jsx)(t,{className:"h-5 w-5 mr-2"}),e.name]},e.id)})})}),(0,s.jsxs)("div",{className:"p-6",children:["edit"===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Bulk Edit Questions"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Question IDs (comma-separated)"}),(0,s.jsx)("textarea",{value:v,onChange:e=>g(e.target.value),placeholder:"e.g., 60f7b3d4e8f0a2b3c4d5e6f7, 60f7b3d4e8f0a2b3c4d5e6f8",className:"input",rows:3})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,s.jsxs)("select",{value:f,onChange:e=>j(e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"",children:"No change"}),(0,s.jsx)("option",{value:"easy",children:"Easy"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Marks"}),(0,s.jsx)("input",{type:"number",value:N,onChange:e=>k(e.target.value),placeholder:"Leave empty for no change",className:"input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma-separated)"}),(0,s.jsx)("input",{value:b,onChange:e=>y(e.target.value),placeholder:"e.g., physics, mechanics",className:"input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Active Status"}),(0,s.jsxs)("select",{value:w.toString(),onChange:e=>E(""===e.target.value?"":"true"===e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"",children:"No change"}),(0,s.jsx)("option",{value:"true",children:"Active"}),(0,s.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,s.jsx)("button",{onClick:z,disabled:d,className:"btn-primary",children:d?(0,s.jsx)(i.$,{size:"sm"}):"Apply Bulk Edit"})]}),"delete"===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:"⚠️ Warning: Bulk delete is permanent and cannot be undone!"})}),(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Bulk Delete Questions"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Provide either specific question IDs OR filters (not both)"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Question IDs (comma-separated)"}),(0,s.jsx)("textarea",{value:C,onChange:e=>S(e.target.value),placeholder:"e.g., 60f7b3d4e8f0a2b3c4d5e6f7, 60f7b3d4e8f0a2b3c4d5e6f8",className:"input",rows:3})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"OR use filters:"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,s.jsxs)("select",{value:L,onChange:e=>A(e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"",children:"All"}),(0,s.jsx)("option",{value:"easy",children:"Easy"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,s.jsxs)("select",{value:B.toString(),onChange:e=>D(""===e.target.value?"":"true"===e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"",children:"All"}),(0,s.jsx)("option",{value:"true",children:"Active"}),(0,s.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,s.jsx)("button",{onClick:H,disabled:d,className:"btn-danger",children:d?(0,s.jsx)(i.$,{size:"sm"}):"Delete Questions"})]}),"export"===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Export Questions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Format"}),(0,s.jsxs)("select",{value:I,onChange:e=>O(e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"csv",children:"CSV"}),(0,s.jsx)("option",{value:"json",children:"JSON"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty Filter (Optional)"}),(0,s.jsxs)("select",{value:Q,onChange:e=>q(e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"",children:"All"}),(0,s.jsx)("option",{value:"easy",children:"Easy"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"hard",children:"Hard"})]})]})]}),(0,s.jsx)("button",{onClick:P,disabled:d,className:"btn-primary",children:d?(0,s.jsx)(i.$,{size:"sm"}):"Export Questions"})]})]})]})]})}},61241:function(e,t,a){"use strict";a.d(t,{$:function(){return r}});var s=a(57437);function r(e){let{size:t="md",color:a="primary",className:r=""}=e;return(0,s.jsxs)("svg",{className:"animate-spin ".concat({sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t]," ").concat({primary:"text-blue-600",white:"text-white",gray:"text-gray-600"}[a]," ").concat(r),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}a(2265)},26647:function(e,t,a){"use strict";a.d(t,{O:function(){return r},h:function(){return s}});let s=a(83464).Z.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),window.location.href="/auth/login"),Promise.reject(e)});let r={async login(e){try{return(await s.post("/auth/login",e)).data}catch(e){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Login failed")}},async register(e){try{return(await s.post("/auth/register",e)).data}catch(e){var t,a;throw Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Registration failed")}},async getCurrentUser(){try{return(await s.get("/auth/me")).data.user}catch(a){var e,t;throw Error((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||"Failed to get user")}},logout(){localStorage.removeItem("auth_token")}}},61601:function(e,t,a){"use strict";var s=a(2265);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=r}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=68952)}),_N_E=e.O()}]);
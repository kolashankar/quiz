(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{79130:function(e,t,s){Promise.resolve().then(s.bind(s,81263))},81263:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var a=s(57437),l=s(2265),i=s(61601),n=s(20322),c=s(12087),r=s(43836),d=s(45974),o=s(88203),u=s(19967),m=s(34823),x=s(90106),h=s(77165),p=s(30166);s(98527),s(2446);var b=s(26647),f=s(69064);let y=(0,p.default)(()=>Promise.all([s.e(70),s.e(652),s.e(600)]).then(s.t.bind(s,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1});function j(e){let{value:t,onChange:s,placeholder:i="Enter your question...",className:n="",enableAI:r=!1}=e,[d,o]=(0,l.useState)(!1),[p,j]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[N,k]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[S,Z]=(0,l.useState)("javascript"),A=(0,l.useRef)(null),P=(0,l.useRef)(null),q=async e=>{if(e.size>2097152){f.ZP.error("Image size should be less than 2MB");return}try{let t=new FileReader;t.onload=e=>{var t,s,a;let l=null===(t=e.target)||void 0===t?void 0:t.result,i=null===(a=P.current)||void 0===a?void 0:null===(s=a.getEditor)||void 0===s?void 0:s.call(a);if(i){let e=i.getSelection(!0);i.insertEmbed(e.index,"image",l),i.setSelection(e.index+1)}f.ZP.success("Image uploaded successfully"),o(!1)},t.readAsDataURL(e)}catch(e){f.ZP.error("Failed to upload image")}},I=async()=>{if(!t.trim()){f.ZP.error("Please enter some text first");return}try{let e=await b.h.post("/admin/ai/improve-question",{questionText:t});s(e.data.improvedText),f.ZP.success("Text improved with AI")}catch(e){f.ZP.error("Failed to improve text")}};return(0,a.jsxs)("div",{className:"relative ".concat(n),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-t-lg border border-b-0",children:[(0,a.jsx)("button",{type:"button",onClick:()=>o(!d),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Image",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>j(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Formula",children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>v(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Code",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})}),r&&(0,a.jsx)("button",{type:"button",onClick:I,className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded",title:"Improve with AI",children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})]}),d&&(0,a.jsxs)("div",{className:"absolute top-14 left-0 z-10 bg-white dark:bg-gray-800 border rounded-lg shadow-lg p-4 w-64",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Upload Image"}),(0,a.jsx)("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)("input",{ref:A,type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&q(s)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Max size: 2MB"})]}),(0,a.jsx)(y,{theme:"snow",value:t,onChange:s,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","formula"],["clean"]],formula:!0},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","script","formula","code-block"],placeholder:i,className:"bg-white"}),p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Formula"}),(0,a.jsx)("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LaTeX Formula"}),(0,a.jsx)("textarea",{value:N,onChange:e=>k(e.target.value),placeholder:"e.g., E = mc^2",className:"input w-full h-24"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsx)("p",{children:"Examples:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"E = mc^2"}),(0,a.jsx)("li",{children:"\\frac{a}{b}"}),(0,a.jsx)("li",{children:"\\sqrt{x + y}"}),(0,a.jsx)("li",{children:"\\sum_{i=1}^{n} x_i"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)("button",{onClick:()=>j(!1),className:"btn-secondary",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{var e,t;if(!N.trim())return;let s=null===(t=P.current)||void 0===t?void 0:null===(e=t.getEditor)||void 0===e?void 0:e.call(t);if(s){let e=s.getSelection(!0);s.insertEmbed(e.index,"formula",N),s.setSelection(e.index+1)}k(""),j(!1),f.ZP.success("Formula inserted")},className:"btn-primary",children:"Insert Formula"})]})]})]})}),g&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Code"}),(0,a.jsx)("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),(0,a.jsxs)("select",{value:S,onChange:e=>Z(e.target.value),className:"input w-full",children:[(0,a.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,a.jsx)("option",{value:"python",children:"Python"}),(0,a.jsx)("option",{value:"java",children:"Java"}),(0,a.jsx)("option",{value:"cpp",children:"C++"}),(0,a.jsx)("option",{value:"c",children:"C"}),(0,a.jsx)("option",{value:"html",children:"HTML"}),(0,a.jsx)("option",{value:"css",children:"CSS"}),(0,a.jsx)("option",{value:"sql",children:"SQL"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Code"}),(0,a.jsx)("textarea",{value:w,onChange:e=>C(e.target.value),placeholder:"Enter your code here...",className:"input w-full h-32 font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)("button",{onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{var e,t;if(!w.trim())return;let s=null===(t=P.current)||void 0===t?void 0:null===(e=t.getEditor)||void 0===e?void 0:e.call(t);if(s){let e=s.getSelection(!0),t="```".concat(S,"\n").concat(w,"\n```");s.insertText(e.index,t,"code-block",!0),s.setSelection(e.index+t.length)}C(""),v(!1),f.ZP.success("Code snippet inserted")},className:"btn-primary",children:"Insert Code"})]})]})]})})]})}var g=s(1442),v=s(20301),N=s(51351),k=s(69390),w=s(65001);function C(e){let{selectedIds:t,selectedItems:s,onClearSelection:c,onRefresh:r,entityType:d}=e,[u,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(null),[p,y]=(0,l.useState)(""),[j,C]=(0,l.useState)(!1),S=[{id:"delete",label:"Delete Selected",icon:i.Z,color:"text-red-600",description:"Permanently delete selected items"},{id:"activate",label:"Activate",icon:g.Z,color:"text-green-600",description:"Mark selected items as active"},{id:"deactivate",label:"Deactivate",icon:v.Z,color:"text-gray-600",description:"Mark selected items as inactive"},{id:"export",label:"Export CSV",icon:N.Z,color:"text-blue-600",description:"Export selected items to CSV"}];"questions"===d&&S.push({id:"difficulty",label:"Set Difficulty",icon:k.Z,color:"text-yellow-600",description:"Change difficulty level of selected questions",requiresInput:!0,inputType:"select",inputOptions:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]},{id:"timeLimit",label:"Set Time Limit",icon:n.Z,color:"text-purple-600",description:"Set time limit for selected questions",requiresInput:!0,inputType:"number"},{id:"tags",label:"Add Tags",icon:w.Z,color:"text-indigo-600",description:"Add tags to selected questions",requiresInput:!0,inputType:"text"});let Z=e=>{h(e),y(""),e.requiresInput?m(!0):A(e)},A=async(e,t)=>{C(!0);try{switch(e.id){case"delete":await P();break;case"activate":await q({isActive:!0});break;case"deactivate":await q({isActive:!1});break;case"export":await I();break;case"difficulty":await q({difficulty:t});break;case"timeLimit":await q({timeLimit:parseInt(t||"60")});break;case"tags":let s=(null==t?void 0:t.split(",").map(e=>e.trim()))||[];await q({tags:s});break;default:f.ZP.error("Unknown action")}}catch(e){console.error("Batch operation failed:",e)}finally{C(!1),m(!1),h(null)}},P=async()=>{if(confirm("Are you sure you want to delete ".concat(t.length," ").concat(d,"?")))try{await b.h.delete("/admin/".concat(d,"/batch"),{data:{ids:t}}),f.ZP.success("Deleted ".concat(t.length," ").concat(d)),c(),r()}catch(e){f.ZP.error("Failed to delete items")}},q=async e=>{try{await b.h.patch("/admin/".concat(d,"/batch"),{ids:t,updates:e}),f.ZP.success("Updated ".concat(t.length," ").concat(d)),c(),r()}catch(e){f.ZP.error("Failed to update items")}},I=async()=>{try{let e=await b.h.post("/admin/".concat(d,"/export"),{ids:t},{responseType:"blob"}),s=new Blob([e.data],{type:"text/csv"}),a=window.URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="".concat(d,"_export_").concat(new Date().toISOString().split("T")[0],".csv"),l.click(),window.URL.revokeObjectURL(a),f.ZP.success("Exported ".concat(t.length," ").concat(d)),c()}catch(e){f.ZP.error("Failed to export items")}};return 0===t.length?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40",children:(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.length," ",d," selected"]}),(0,a.jsx)("button",{onClick:c,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Clear"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:S.map(e=>(0,a.jsxs)("button",{onClick:()=>Z(e),disabled:j,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 ".concat(e.color," ").concat(j?"opacity-50 cursor-not-allowed":""),title:e.description,children:[(0,a.jsx)(e.icon,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]},e.id))})]})})}),(0,a.jsx)(o.u,{isOpen:u,onClose:()=>m(!1),title:"".concat(null==x?void 0:x.label," - ").concat(t.length," items"),size:"md",children:x&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.description}),"select"===x.inputType&&x.inputOptions?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Value"}),(0,a.jsxs)("select",{value:p,onChange:e=>y(e.target.value),className:"input w-full",children:[(0,a.jsx)("option",{value:"",children:"Choose..."}),x.inputOptions.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})]}):"number"===x.inputType?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Value"}),(0,a.jsx)("input",{type:"number",value:p,onChange:e=>y(e.target.value),className:"input w-full",placeholder:"Enter number..."})]}):"text"===x.inputType?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Text"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),className:"input w-full",placeholder:"Enter text (comma-separated for tags)..."})]}):null,(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>m(!1),className:"btn-secondary",disabled:j,children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>A(x,p),className:"btn-primary",disabled:j||x.requiresInput&&!p.trim(),children:j?"Processing...":"Apply"})]})]})})]})}var S=s(71230),Z=s(29501),A=s(27648);function P(){let[e,t]=(0,l.useState)([]),[s,u]=(0,l.useState)([]),[m,x]=(0,l.useState)(!0),[h,p]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[N,k]=(0,l.useState)(null),[w,P]=(0,l.useState)(""),[q,I]=(0,l.useState)(""),[E,D]=(0,l.useState)([]),[M,T]=(0,l.useState)(1),[F,L]=(0,l.useState)(1),[O,U]=(0,l.useState)(!1),{register:z,handleSubmit:R,reset:Q,watch:_,setValue:G,formState:{errors:B}}=(0,Z.cI)(),[H,V]=(0,l.useState)(""),[$,J]=(0,l.useState)("");(0,l.useEffect)(()=>{X()},[]),(0,l.useEffect)(()=>{K()},[w,q,M]);let X=async()=>{try{u(await S.Ps.getAll())}catch(e){f.ZP.error("Failed to fetch subsections")}},K=async()=>{try{x(!0);let e=await S.eh.getAll({subsectionId:w||void 0,difficulty:q||void 0,page:M,limit:10});t(e.questions||[]),L(e.pagination.pages)}catch(e){f.ZP.error("Failed to fetch questions")}finally{x(!1)}},W=async e=>{if(confirm("Delete this question?"))try{await S.eh.delete(e.id),f.ZP.success("Deleted"),K()}catch(e){f.ZP.error("Failed to delete")}},Y=async e=>{try{let t={...e,text:H,explanation:$};N?(await S.eh.update(N.id,t),f.ZP.success("Updated")):(await S.eh.create(t),f.ZP.success("Created")),p(!1),K()}catch(e){f.ZP.error("Failed to save")}},ee=async()=>{if(E.length&&confirm("Delete ".concat(E.length," question(s)?")))try{await S.eh.batchDelete(E),f.ZP.success("Deleted ".concat(E.length)),D([]),K()}catch(e){f.ZP.error("Failed to delete")}},et=async e=>{if(!E.length){f.ZP.error("No questions selected");return}try{await S.eh.batchUpdate({ids:E,updates:e}),f.ZP.success("Updated ".concat(E.length," question(s)")),D([]),y(!1),K()}catch(e){f.ZP.error("Failed to update")}},es=async(e,t,s)=>{U(!0);try{let a=await S.$9.generateQuestions({topic:e,difficulty:t,count:s});for(let e of(f.ZP.success("Generated ".concat(a.questions.length," question(s)")),a.questions))await S.eh.create({...e,subsectionId:w});v(!1),K()}catch(e){f.ZP.error("Failed to generate questions")}finally{U(!1)}},ea=async()=>{if(!H){f.ZP.error("Enter question text first");return}try{let e=await S.$9.suggestDifficulty(H);G("difficulty",e.difficulty),f.ZP.success("Suggested: ".concat(e.difficulty))}catch(e){f.ZP.error("Failed to suggest difficulty")}},el=async()=>{if(!H){f.ZP.error("Enter question text first");return}let e=_("options"),t=_("correctAnswer");if(!e||!e[t]){f.ZP.error("Set correct answer first");return}try{let s=await S.$9.generateExplanation(H,e[t]);J(s.explanation),f.ZP.success("Generated explanation")}catch(e){f.ZP.error("Failed to generate explanation")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Questions Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Level 8 - Manage quiz questions"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[E.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:ee,className:"btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5"}),(0,a.jsxs)("span",{children:["Delete (",E.length,")"]})]}),(0,a.jsxs)("button",{onClick:()=>y(!0),className:"btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Batch Edit"})]})]}),(0,a.jsxs)("button",{onClick:()=>v(!0),className:"btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"AI Generate"})]}),(0,a.jsxs)("button",{onClick:()=>{k(null),Q({text:"",options:["","","",""],correctAnswer:0,explanation:"",difficulty:"medium",tags:[],timeLimit:60,marks:1,negativeMarks:0,subsectionId:w||"",isActive:!0}),V(""),J(""),p(!0)},className:"btn-primary flex items-center space-x-2",children:[(0,a.jsx)(r.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Add Question"})]})]})]})})}),(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("nav",{className:"flex justify-between",children:[(0,a.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(A.default,{href:"/dashboard",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"mx-2",children:"/"}),(0,a.jsx)("span",{children:"Questions"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("select",{value:w,onChange:e=>P(e.target.value),className:"input",children:[(0,a.jsx)("option",{value:"",children:"All Subsections"}),s.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsxs)("select",{value:q,onChange:e=>I(e.target.value),className:"input",children:[(0,a.jsx)("option",{value:"",children:"All Difficulties"}),(0,a.jsx)("option",{value:"easy",children:"Easy"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"hard",children:"Hard"})]})]})]})}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)(d.w,{data:e,columns:[{key:"text",header:"Question",render:e=>(0,a.jsx)("div",{className:"max-w-md",dangerouslySetInnerHTML:{__html:e.text.substring(0,100)+"..."}})},{key:"difficulty",header:"Difficulty",sortable:!0,render:e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("easy"===e.difficulty?"bg-green-100 text-green-800":"medium"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.difficulty})},{key:"marks",header:"Marks",sortable:!0},{key:"timeLimit",header:"Time (s)",sortable:!0},{key:"subsection",header:"Subsection",render:e=>{var t;return(null===(t=e.subsection)||void 0===t?void 0:t.name)||"N/A"}},{key:"isActive",header:"Status",render:e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100"),children:e.isActive?"Active":"Inactive"})}],loading:m,onEdit:e=>{k(e),Q({text:e.text,options:e.options,correctAnswer:e.correctAnswer,explanation:e.explanation||"",difficulty:e.difficulty,tags:e.tags,timeLimit:e.timeLimit||60,marks:e.marks,negativeMarks:e.negativeMarks||0,subsectionId:e.subsectionId,isActive:e.isActive}),V(e.text),J(e.explanation||""),p(!0)},onDelete:W,searchPlaceholder:"Search questions...",emptyMessage:"No questions",selectable:!0,selectedIds:E,onSelectionChange:D}),F>1&&(0,a.jsxs)("div",{className:"mt-4 flex justify-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>T(e=>Math.max(1,e-1)),disabled:1===M,className:"btn-secondary",children:"Previous"}),(0,a.jsxs)("span",{className:"py-2 px-4",children:["Page ",M," of ",F]}),(0,a.jsx)("button",{onClick:()=>T(e=>Math.min(F,e+1)),disabled:M===F,className:"btn-secondary",children:"Next"})]})]}),(0,a.jsx)(C,{selectedIds:E,selectedItems:e.filter(e=>E.includes(e.id)),onClearSelection:()=>D([]),onRefresh:K,entityType:"questions"}),(0,a.jsx)(o.u,{isOpen:h,onClose:()=>p(!1),title:N?"Edit Question":"Create Question",size:"2xl",children:(0,a.jsxs)("form",{onSubmit:R(Y),className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Question Text *"}),(0,a.jsxs)("button",{type:"button",onClick:ea,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"AI Suggest Difficulty"]})]}),(0,a.jsx)(j,{value:H,onChange:V,placeholder:"Enter your question here...",enableAI:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Subsection *"}),(0,a.jsxs)("select",{...z("subsectionId",{required:"Required"}),className:"input w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),s.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[0,1,2,3].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Option ",String.fromCharCode(65+e)," *"]}),(0,a.jsx)("input",{...z("options.".concat(e),{required:"Required"}),className:"input w-full",placeholder:"Option ".concat(String.fromCharCode(65+e))})]},e))}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Correct Answer *"}),(0,a.jsxs)("select",{...z("correctAnswer",{required:"Required",valueAsNumber:!0}),className:"input w-full",children:[(0,a.jsx)("option",{value:0,children:"A"}),(0,a.jsx)("option",{value:1,children:"B"}),(0,a.jsx)("option",{value:2,children:"C"}),(0,a.jsx)("option",{value:3,children:"D"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty *"}),(0,a.jsxs)("select",{...z("difficulty",{required:"Required"}),className:"input w-full",children:[(0,a.jsx)("option",{value:"easy",children:"Easy"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Time Limit (s)"}),(0,a.jsx)("input",{type:"number",...z("timeLimit",{valueAsNumber:!0}),className:"input w-full",placeholder:"60"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Marks"}),(0,a.jsx)("input",{type:"number",...z("marks",{valueAsNumber:!0}),className:"input w-full",placeholder:"1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Negative Marks"}),(0,a.jsx)("input",{type:"number",step:"0.1",...z("negativeMarks",{valueAsNumber:!0}),className:"input w-full",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Explanation"}),(0,a.jsxs)("button",{type:"button",onClick:el,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"AI Generate"]})]}),(0,a.jsx)(j,{value:$,onChange:J,placeholder:"Enter explanation here...",enableAI:!0})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",...z("isActive"),id:"isActive",className:"rounded"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"ml-2 text-sm",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:N?"Update":"Create"})]})]})}),(0,a.jsx)(o.u,{isOpen:b,onClose:()=>y(!1),title:"Batch Update Questions",size:"lg",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Update ",E.length," selected question(s)"]}),(0,a.jsx)("button",{onClick:()=>et({difficulty:"easy"}),className:"btn-secondary w-full",children:"Set Difficulty: Easy"}),(0,a.jsx)("button",{onClick:()=>et({difficulty:"medium"}),className:"btn-secondary w-full",children:"Set Difficulty: Medium"}),(0,a.jsx)("button",{onClick:()=>et({difficulty:"hard"}),className:"btn-secondary w-full",children:"Set Difficulty: Hard"}),(0,a.jsx)("button",{onClick:()=>et({timeLimit:60}),className:"btn-secondary w-full",children:"Set Time: 60s"}),(0,a.jsx)("button",{onClick:()=>et({timeLimit:90}),className:"btn-secondary w-full",children:"Set Time: 90s"}),(0,a.jsx)("button",{onClick:()=>et({marks:1}),className:"btn-secondary w-full",children:"Set Marks: 1"}),(0,a.jsx)("button",{onClick:()=>et({marks:2}),className:"btn-secondary w-full",children:"Set Marks: 2"}),(0,a.jsx)("button",{onClick:()=>et({isActive:!0}),className:"btn-secondary w-full",children:"Activate All"}),(0,a.jsx)("button",{onClick:()=>et({isActive:!1}),className:"btn-secondary w-full",children:"Deactivate All"})]})}),(0,a.jsx)(o.u,{isOpen:g,onClose:()=>v(!1),title:"AI Generate Questions",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.target);es(t.get("topic"),t.get("difficulty"),parseInt(t.get("count")))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Topic"}),(0,a.jsx)("input",{name:"topic",className:"input w-full",placeholder:"e.g., Newton's Laws of Motion",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,a.jsxs)("select",{name:"difficulty",className:"input w-full",defaultValue:"medium",children:[(0,a.jsx)("option",{value:"easy",children:"Easy"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Count"}),(0,a.jsx)("input",{name:"count",type:"number",min:"1",max:"10",defaultValue:"3",className:"input w-full"})]}),w&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Questions will be added to the selected subsection"}),!w&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:"Please select a subsection filter first"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:O||!w,className:"btn-primary",children:O?"Generating...":"Generate"})]})]})})]})}}},function(e){e.O(0,[458,329,464,64,648,501,67,206,769,971,117,744],function(){return e(e.s=79130)}),_N_E=e.O()}]);
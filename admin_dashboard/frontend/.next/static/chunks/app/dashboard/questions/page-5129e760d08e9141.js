(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{79130:function(e,t,s){Promise.resolve().then(s.bind(s,81263))},81263:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var l=s(57437),c=s(2265),r=s(61601),d=s(20322),o=s(12087),u=s(43836),m=s(45974),h=s(88203),p=s(19967),f=s(34823),j=s(90106),g=s(77165),v=s(30166);s(98527),s(2446);var N=s(26647),k=s(69064);let w=(0,v.default)(()=>Promise.all([s.e(70),s.e(652),s.e(600)]).then(s.t.bind(s,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1});function C(e){let{value:t,onChange:s,placeholder:r="Enter your question...",className:d="",enableAI:u=!1}=e,[m,h]=(0,c.useState)(!1),[v,C]=(0,c.useState)(!1),[S,Z]=(0,c.useState)(!1),[A,P]=(0,c.useState)(""),[q,I]=(0,c.useState)(""),[E,D]=(0,c.useState)("javascript"),M=(0,c.useRef)(null),T=(0,c.useRef)(null),F=async e=>{if(e.size>2097152){k.ZP.error("Image size should be less than 2MB");return}try{let t=new FileReader;t.onload=e=>{var t,s,l;let c=null===(t=e.target)||void 0===t?void 0:t.result,r=null===(l=T.current)||void 0===l?void 0:null===(s=l.getEditor)||void 0===s?void 0:s.call(l);if(r){let e=r.getSelection(!0);r.insertEmbed(e.index,"image",c),r.setSelection(e.index+1)}k.ZP.success("Image uploaded successfully"),h(!1)},t.readAsDataURL(e)}catch(e){k.ZP.error("Failed to upload image")}},L=async()=>{if(!t.trim()){k.ZP.error("Please enter some text first");return}try{let e=await N.h.post("/admin/ai/improve-question",{questionText:t});s(e.data.improvedText),k.ZP.success("Text improved with AI")}catch(e){k.ZP.error("Failed to improve text")}};return(0,l.jsxs)("div",{className:"relative ".concat(d),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-t-lg border border-b-0",children:[(0,l.jsx)("button",{type:"button",onClick:()=>h(!m),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Image",children:(0,l.jsx)(p.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{type:"button",onClick:()=>C(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Formula",children:(0,l.jsx)(f.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{type:"button",onClick:()=>Z(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Code",children:(0,l.jsx)(j.Z,{className:"h-4 w-4"})}),u&&(0,l.jsx)("button",{type:"button",onClick:L,className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded",title:"Improve with AI",children:(0,l.jsx)(o.Z,{className:"h-4 w-4"})})]}),m&&(0,l.jsxs)("div",{className:"absolute top-14 left-0 z-10 bg-white dark:bg-gray-800 border rounded-lg shadow-lg p-4 w-64",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Upload Image"}),(0,l.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(g.Z,{className:"h-4 w-4"})})]}),(0,l.jsx)("input",{ref:M,type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&F(s)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Max size: 2MB"})]}),(0,l.jsx)(w,{theme:"snow",value:t,onChange:s,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","formula"],["clean"]],formula:!0},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","script","formula","code-block"],placeholder:r,className:"bg-white"}),v&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Formula"}),(0,l.jsx)("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(g.Z,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LaTeX Formula"}),(0,l.jsx)("textarea",{value:A,onChange:e=>P(e.target.value),placeholder:"e.g., E = mc^2",className:"input w-full h-24"})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,l.jsx)("p",{children:"Examples:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,l.jsx)("li",{children:"E = mc^2"}),(0,l.jsxs)("li",{children:["\\frac",a,b]}),(0,l.jsxs)("li",{children:["\\sqrt",x+y]}),(0,l.jsxs)("li",{children:["\\sum_",i=1,"^",n," x_i"]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,l.jsx)("button",{onClick:()=>C(!1),className:"btn-secondary",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{var e,t;if(!A.trim())return;let s=null===(t=T.current)||void 0===t?void 0:null===(e=t.getEditor)||void 0===e?void 0:e.call(t);if(s){let e=s.getSelection(!0);s.insertEmbed(e.index,"formula",A),s.setSelection(e.index+1)}P(""),C(!1),k.ZP.success("Formula inserted")},className:"btn-primary",children:"Insert Formula"})]})]})]})}),S&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Code"}),(0,l.jsx)("button",{onClick:()=>Z(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(g.Z,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),(0,l.jsxs)("select",{value:E,onChange:e=>D(e.target.value),className:"input w-full",children:[(0,l.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,l.jsx)("option",{value:"python",children:"Python"}),(0,l.jsx)("option",{value:"java",children:"Java"}),(0,l.jsx)("option",{value:"cpp",children:"C++"}),(0,l.jsx)("option",{value:"c",children:"C"}),(0,l.jsx)("option",{value:"html",children:"HTML"}),(0,l.jsx)("option",{value:"css",children:"CSS"}),(0,l.jsx)("option",{value:"sql",children:"SQL"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Code"}),(0,l.jsx)("textarea",{value:q,onChange:e=>I(e.target.value),placeholder:"Enter your code here...",className:"input w-full h-32 font-mono text-sm"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,l.jsx)("button",{onClick:()=>Z(!1),className:"btn-secondary",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{var e,t;if(!q.trim())return;let s=null===(t=T.current)||void 0===t?void 0:null===(e=t.getEditor)||void 0===e?void 0:e.call(t);if(s){let e=s.getSelection(!0),t="```".concat(E,"\n").concat(q,"\n```");s.insertText(e.index,t,"code-block",!0),s.setSelection(e.index+t.length)}I(""),Z(!1),k.ZP.success("Code snippet inserted")},className:"btn-primary",children:"Insert Code"})]})]})]})})]})}var S=s(1442),Z=s(20301),A=s(51351),P=s(69390),q=s(65001);function I(e){let{selectedIds:t,selectedItems:s,onClearSelection:o,onRefresh:u,entityType:m}=e,[p,f]=(0,c.useState)(!1),[j,g]=(0,c.useState)(null),[v,w]=(0,c.useState)(""),[C,I]=(0,c.useState)(!1),E=[{id:"delete",label:"Delete Selected",icon:r.Z,color:"text-red-600",description:"Permanently delete selected items"},{id:"activate",label:"Activate",icon:S.Z,color:"text-green-600",description:"Mark selected items as active"},{id:"deactivate",label:"Deactivate",icon:Z.Z,color:"text-gray-600",description:"Mark selected items as inactive"},{id:"export",label:"Export CSV",icon:A.Z,color:"text-blue-600",description:"Export selected items to CSV"}];"questions"===m&&E.push({id:"difficulty",label:"Set Difficulty",icon:P.Z,color:"text-yellow-600",description:"Change difficulty level of selected questions",requiresInput:!0,inputType:"select",inputOptions:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]},{id:"timeLimit",label:"Set Time Limit",icon:d.Z,color:"text-purple-600",description:"Set time limit for selected questions",requiresInput:!0,inputType:"number"},{id:"tags",label:"Add Tags",icon:q.Z,color:"text-indigo-600",description:"Add tags to selected questions",requiresInput:!0,inputType:"text"});let D=e=>{g(e),w(""),e.requiresInput?f(!0):M(e)},M=async(e,t)=>{I(!0);try{switch(e.id){case"delete":await T();break;case"activate":await F({isActive:!0});break;case"deactivate":await F({isActive:!1});break;case"export":await L();break;case"difficulty":await F({difficulty:t});break;case"timeLimit":await F({timeLimit:parseInt(t||"60")});break;case"tags":let s=(null==t?void 0:t.split(",").map(e=>e.trim()))||[];await F({tags:s});break;default:k.ZP.error("Unknown action")}}catch(e){console.error("Batch operation failed:",e)}finally{I(!1),f(!1),g(null)}},T=async()=>{if(confirm("Are you sure you want to delete ".concat(t.length," ").concat(m,"?")))try{await N.h.delete("/admin/".concat(m,"/batch"),{data:{ids:t}}),k.ZP.success("Deleted ".concat(t.length," ").concat(m)),o(),u()}catch(e){k.ZP.error("Failed to delete items")}},F=async e=>{try{await N.h.patch("/admin/".concat(m,"/batch"),{ids:t,updates:e}),k.ZP.success("Updated ".concat(t.length," ").concat(m)),o(),u()}catch(e){k.ZP.error("Failed to update items")}},L=async()=>{try{let e=await N.h.post("/admin/".concat(m,"/export"),{ids:t},{responseType:"blob"}),s=new Blob([e.data],{type:"text/csv"}),l=window.URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download="".concat(m,"_export_").concat(new Date().toISOString().split("T")[0],".csv"),c.click(),window.URL.revokeObjectURL(l),k.ZP.success("Exported ".concat(t.length," ").concat(m)),o()}catch(e){k.ZP.error("Failed to export items")}};return 0===t.length?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40",children:(0,l.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.length," ",m," selected"]}),(0,l.jsx)("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Clear"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:E.map(e=>(0,l.jsxs)("button",{onClick:()=>D(e),disabled:C,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 ".concat(e.color," ").concat(C?"opacity-50 cursor-not-allowed":""),title:e.description,children:[(0,l.jsx)(e.icon,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:e.label})]},e.id))})]})})}),(0,l.jsx)(h.u,{isOpen:p,onClose:()=>f(!1),title:"".concat(null==j?void 0:j.label," - ").concat(t.length," items"),size:"md",children:j&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.description}),"select"===j.inputType&&j.inputOptions?(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Value"}),(0,l.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"input w-full",children:[(0,l.jsx)("option",{value:"",children:"Choose..."}),j.inputOptions.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})]}):"number"===j.inputType?(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Value"}),(0,l.jsx)("input",{type:"number",value:v,onChange:e=>w(e.target.value),className:"input w-full",placeholder:"Enter number..."})]}):"text"===j.inputType?(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Text"}),(0,l.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),className:"input w-full",placeholder:"Enter text (comma-separated for tags)..."})]}):null,(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:()=>f(!1),className:"btn-secondary",disabled:C,children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>M(j,v),className:"btn-primary",disabled:C||j.requiresInput&&!v.trim(),children:C?"Processing...":"Apply"})]})]})})]})}var E=s(71230),D=s(29501),M=s(27648);function T(){let[e,t]=(0,c.useState)([]),[s,p]=(0,c.useState)([]),[f,j]=(0,c.useState)(!0),[g,v]=(0,c.useState)(!1),[N,w]=(0,c.useState)(!1),[S,Z]=(0,c.useState)(!1),[A,P]=(0,c.useState)(null),[q,T]=(0,c.useState)(""),[F,L]=(0,c.useState)(""),[O,U]=(0,c.useState)([]),[z,R]=(0,c.useState)(1),[Q,_]=(0,c.useState)(1),[G,B]=(0,c.useState)(!1),{register:H,handleSubmit:V,reset:$,watch:J,setValue:X,formState:{errors:K}}=(0,D.cI)(),[W,Y]=(0,c.useState)(""),[ee,et]=(0,c.useState)("");(0,c.useEffect)(()=>{es()},[]),(0,c.useEffect)(()=>{ea()},[q,F,z]);let es=async()=>{try{p(await E.Ps.getAll())}catch(e){k.ZP.error("Failed to fetch subsections")}},ea=async()=>{try{j(!0);let e=await E.eh.getAll({subsectionId:q||void 0,difficulty:F||void 0,page:z,limit:10});t(e.questions||[]),_(e.pagination.pages)}catch(e){k.ZP.error("Failed to fetch questions")}finally{j(!1)}},el=async e=>{if(confirm("Delete this question?"))try{await E.eh.delete(e.id),k.ZP.success("Deleted"),ea()}catch(e){k.ZP.error("Failed to delete")}},ei=async e=>{try{let t={...e,text:W,explanation:ee};A?(await E.eh.update(A.id,t),k.ZP.success("Updated")):(await E.eh.create(t),k.ZP.success("Created")),v(!1),ea()}catch(e){k.ZP.error("Failed to save")}},en=async()=>{if(O.length&&confirm("Delete ".concat(O.length," question(s)?")))try{await E.eh.batchDelete(O),k.ZP.success("Deleted ".concat(O.length)),U([]),ea()}catch(e){k.ZP.error("Failed to delete")}},ec=async e=>{if(!O.length){k.ZP.error("No questions selected");return}try{await E.eh.batchUpdate({ids:O,updates:e}),k.ZP.success("Updated ".concat(O.length," question(s)")),U([]),w(!1),ea()}catch(e){k.ZP.error("Failed to update")}},er=async(e,t,s)=>{B(!0);try{let l=await E.$9.generateQuestions({topic:e,difficulty:t,count:s});for(let e of(k.ZP.success("Generated ".concat(l.questions.length," question(s)")),l.questions))await E.eh.create({...e,subsectionId:q});Z(!1),ea()}catch(e){k.ZP.error("Failed to generate questions")}finally{B(!1)}},ed=async()=>{if(!W){k.ZP.error("Enter question text first");return}try{let e=await E.$9.suggestDifficulty(W);X("difficulty",e.difficulty),k.ZP.success("Suggested: ".concat(e.difficulty))}catch(e){k.ZP.error("Failed to suggest difficulty")}},eo=async()=>{if(!W){k.ZP.error("Enter question text first");return}let e=J("options"),t=J("correctAnswer");if(!e||!e[t]){k.ZP.error("Set correct answer first");return}try{let s=await E.$9.generateExplanation(W,e[t]);et(s.explanation),k.ZP.success("Generated explanation")}catch(e){k.ZP.error("Failed to generate explanation")}};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,l.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:(0,l.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Questions Management"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Level 8 - Manage quiz questions"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[O.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:en,className:"btn-secondary flex items-center space-x-2",children:[(0,l.jsx)(r.Z,{className:"h-5 w-5"}),(0,l.jsxs)("span",{children:["Delete (",O.length,")"]})]}),(0,l.jsxs)("button",{onClick:()=>w(!0),className:"btn-secondary flex items-center space-x-2",children:[(0,l.jsx)(d.Z,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:"Batch Edit"})]})]}),(0,l.jsxs)("button",{onClick:()=>Z(!0),className:"btn-secondary flex items-center space-x-2",children:[(0,l.jsx)(o.Z,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:"AI Generate"})]}),(0,l.jsxs)("button",{onClick:()=>{P(null),$({text:"",options:["","","",""],correctAnswer:0,explanation:"",difficulty:"medium",tags:[],timeLimit:60,marks:1,negativeMarks:0,subsectionId:q||"",isActive:!0}),Y(""),et(""),v(!0)},className:"btn-primary flex items-center space-x-2",children:[(0,l.jsx)(u.Z,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:"Add Question"})]})]})]})})}),(0,l.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,l.jsxs)("nav",{className:"flex justify-between",children:[(0,l.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(M.default,{href:"/dashboard",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"mx-2",children:"/"}),(0,l.jsx)("span",{children:"Questions"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("select",{value:q,onChange:e=>T(e.target.value),className:"input",children:[(0,l.jsx)("option",{value:"",children:"All Subsections"}),s.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,l.jsxs)("select",{value:F,onChange:e=>L(e.target.value),className:"input",children:[(0,l.jsx)("option",{value:"",children:"All Difficulties"}),(0,l.jsx)("option",{value:"easy",children:"Easy"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"hard",children:"Hard"})]})]})]})}),(0,l.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsx)(m.w,{data:e,columns:[{key:"text",header:"Question",render:e=>(0,l.jsx)("div",{className:"max-w-md",dangerouslySetInnerHTML:{__html:e.text.substring(0,100)+"..."}})},{key:"difficulty",header:"Difficulty",sortable:!0,render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("easy"===e.difficulty?"bg-green-100 text-green-800":"medium"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.difficulty})},{key:"marks",header:"Marks",sortable:!0},{key:"timeLimit",header:"Time (s)",sortable:!0},{key:"subsection",header:"Subsection",render:e=>{var t;return(null===(t=e.subsection)||void 0===t?void 0:t.name)||"N/A"}},{key:"isActive",header:"Status",render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100"),children:e.isActive?"Active":"Inactive"})}],loading:f,onEdit:e=>{P(e),$({text:e.text,options:e.options,correctAnswer:e.correctAnswer,explanation:e.explanation||"",difficulty:e.difficulty,tags:e.tags,timeLimit:e.timeLimit||60,marks:e.marks,negativeMarks:e.negativeMarks||0,subsectionId:e.subsectionId,isActive:e.isActive}),Y(e.text),et(e.explanation||""),v(!0)},onDelete:el,searchPlaceholder:"Search questions...",emptyMessage:"No questions",selectable:!0,selectedIds:O,onSelectionChange:U}),Q>1&&(0,l.jsxs)("div",{className:"mt-4 flex justify-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>R(e=>Math.max(1,e-1)),disabled:1===z,className:"btn-secondary",children:"Previous"}),(0,l.jsxs)("span",{className:"py-2 px-4",children:["Page ",z," of ",Q]}),(0,l.jsx)("button",{onClick:()=>R(e=>Math.min(Q,e+1)),disabled:z===Q,className:"btn-secondary",children:"Next"})]})]}),(0,l.jsx)(I,{selectedIds:O,selectedItems:e.filter(e=>O.includes(e.id)),onClearSelection:()=>U([]),onRefresh:ea,entityType:"questions"}),(0,l.jsx)(h.u,{isOpen:g,onClose:()=>v(!1),title:A?"Edit Question":"Create Question",size:"2xl",children:(0,l.jsxs)("form",{onSubmit:V(ei),className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Question Text *"}),(0,l.jsxs)("button",{type:"button",onClick:ed,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"AI Suggest Difficulty"]})]}),(0,l.jsx)(C,{value:W,onChange:Y,placeholder:"Enter your question here...",enableAI:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Subsection *"}),(0,l.jsxs)("select",{...H("subsectionId",{required:"Required"}),className:"input w-full",children:[(0,l.jsx)("option",{value:"",children:"Select"}),s.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[0,1,2,3].map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Option ",String.fromCharCode(65+e)," *"]}),(0,l.jsx)("input",{...H("options.".concat(e),{required:"Required"}),className:"input w-full",placeholder:"Option ".concat(String.fromCharCode(65+e))})]},e))}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Correct Answer *"}),(0,l.jsxs)("select",{...H("correctAnswer",{required:"Required",valueAsNumber:!0}),className:"input w-full",children:[(0,l.jsx)("option",{value:0,children:"A"}),(0,l.jsx)("option",{value:1,children:"B"}),(0,l.jsx)("option",{value:2,children:"C"}),(0,l.jsx)("option",{value:3,children:"D"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty *"}),(0,l.jsxs)("select",{...H("difficulty",{required:"Required"}),className:"input w-full",children:[(0,l.jsx)("option",{value:"easy",children:"Easy"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Time Limit (s)"}),(0,l.jsx)("input",{type:"number",...H("timeLimit",{valueAsNumber:!0}),className:"input w-full",placeholder:"60"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Marks"}),(0,l.jsx)("input",{type:"number",...H("marks",{valueAsNumber:!0}),className:"input w-full",placeholder:"1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Negative Marks"}),(0,l.jsx)("input",{type:"number",step:"0.1",...H("negativeMarks",{valueAsNumber:!0}),className:"input w-full",placeholder:"0"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Explanation"}),(0,l.jsxs)("button",{type:"button",onClick:eo,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"AI Generate"]})]}),(0,l.jsx)(C,{value:ee,onChange:et,placeholder:"Enter explanation here...",enableAI:!0})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",...H("isActive"),id:"isActive",className:"rounded"}),(0,l.jsx)("label",{htmlFor:"isActive",className:"ml-2 text-sm",children:"Active"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn-primary",children:A?"Update":"Create"})]})]})}),(0,l.jsx)(h.u,{isOpen:N,onClose:()=>w(!1),title:"Batch Update Questions",size:"lg",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Update ",O.length," selected question(s)"]}),(0,l.jsx)("button",{onClick:()=>ec({difficulty:"easy"}),className:"btn-secondary w-full",children:"Set Difficulty: Easy"}),(0,l.jsx)("button",{onClick:()=>ec({difficulty:"medium"}),className:"btn-secondary w-full",children:"Set Difficulty: Medium"}),(0,l.jsx)("button",{onClick:()=>ec({difficulty:"hard"}),className:"btn-secondary w-full",children:"Set Difficulty: Hard"}),(0,l.jsx)("button",{onClick:()=>ec({timeLimit:60}),className:"btn-secondary w-full",children:"Set Time: 60s"}),(0,l.jsx)("button",{onClick:()=>ec({timeLimit:90}),className:"btn-secondary w-full",children:"Set Time: 90s"}),(0,l.jsx)("button",{onClick:()=>ec({marks:1}),className:"btn-secondary w-full",children:"Set Marks: 1"}),(0,l.jsx)("button",{onClick:()=>ec({marks:2}),className:"btn-secondary w-full",children:"Set Marks: 2"}),(0,l.jsx)("button",{onClick:()=>ec({isActive:!0}),className:"btn-secondary w-full",children:"Activate All"}),(0,l.jsx)("button",{onClick:()=>ec({isActive:!1}),className:"btn-secondary w-full",children:"Deactivate All"})]})}),(0,l.jsx)(h.u,{isOpen:S,onClose:()=>Z(!1),title:"AI Generate Questions",size:"lg",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.target);er(t.get("topic"),t.get("difficulty"),parseInt(t.get("count")))},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Topic"}),(0,l.jsx)("input",{name:"topic",className:"input w-full",placeholder:"e.g., Newton's Laws of Motion",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,l.jsxs)("select",{name:"difficulty",className:"input w-full",defaultValue:"medium",children:[(0,l.jsx)("option",{value:"easy",children:"Easy"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Count"}),(0,l.jsx)("input",{name:"count",type:"number",min:"1",max:"10",defaultValue:"3",className:"input w-full"})]}),q&&(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Questions will be added to the selected subsection"}),!q&&(0,l.jsx)("p",{className:"text-sm text-red-600",children:"Please select a subsection filter first"}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,l.jsx)("button",{type:"button",onClick:()=>Z(!1),className:"btn-secondary",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:G||!q,className:"btn-primary",children:G?"Generating...":"Generate"})]})]})})]})}}},function(e){e.O(0,[458,329,464,64,648,501,67,206,769,971,117,744],function(){return e(e.s=79130)}),_N_E=e.O()}]);
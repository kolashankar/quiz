(()=>{var e={};e.id=601,e.ids=[601],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},22431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(39267),s(22834),s(32029),s(35866);var r=s(23191),a=s(88716),i=s(37922),l=s.n(i),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["bulk-operations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,39267)),"/app/admin_dashboard/frontend/src/app/dashboard/bulk-operations/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/app/admin_dashboard/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/admin_dashboard/frontend/src/app/dashboard/bulk-operations/page.tsx"],u="/dashboard/bulk-operations/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/bulk-operations/page",pathname:"/dashboard/bulk-operations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77117:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},13361:(e,t,s)=>{Promise.resolve().then(s.bind(s,12877))},53106:(e,t,s)=>{Promise.resolve().then(s.bind(s,7022))},91051:(e,t,s)=>{Promise.resolve().then(s.bind(s,7584))},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},12877:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(10326),a=s(17577),i=s(76219),l=s(35590);let n=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});var o=s(43404);let d=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))});function c(){let[e,t]=(0,a.useState)(!1),[s,c]=(0,a.useState)(null),[u,m]=(0,a.useState)("edit"),[x,p]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[y,k]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[P,S]=(0,a.useState)(""),[E,q]=(0,a.useState)(""),[C,_]=(0,a.useState)("csv"),[L,A]=(0,a.useState)(""),[B,D]=(0,a.useState)(null),I=async()=>{try{let e=await i.h.get("/admin/bulk-operations/statistics");c(e.data)}catch(e){console.error("Error fetching statistics:",e)}},R=async()=>{if(!x.trim()){D({type:"error",text:"Please enter question IDs"});return}t(!0);try{let e=x.split(",").map(e=>e.trim()),t={};h&&(t.difficulty=h),v&&(t.tags=v.split(",").map(e=>e.trim())),f&&(t.marks=parseInt(f)),""!==y&&(t.isActive=y);let s=await i.h.post("/admin/bulk-operations/questions/edit",{questionIds:e,updates:t});D({type:"success",text:s.data.message}),I(),p(""),g(""),b(""),j(""),k("")}catch(e){D({type:"error",text:e.response?.data?.error||"Bulk edit failed"})}finally{t(!1)}},O=async()=>{if(!N.trim()&&!P&&""===E){D({type:"error",text:"Please provide question IDs or filters"});return}if(window.confirm("Are you sure you want to delete these questions? This action cannot be undone.")){t(!0);try{let e={};if(N.trim())e.questionIds=N.split(",").map(e=>e.trim());else{let t={};P&&(t.difficulty=P),""!==E&&(t.isActive=E),e.filters=t}let t=await i.h.post("/admin/bulk-operations/questions/delete",e);D({type:"success",text:t.data.message}),I(),w(""),S(""),q("")}catch(e){D({type:"error",text:e.response?.data?.error||"Bulk delete failed"})}finally{t(!1)}}},$=async()=>{t(!0);try{let e=new URLSearchParams;e.append("format",C),L&&e.append("difficulty",L);let t=await i.h.get(`/admin/bulk-operations/questions/export?${e.toString()}`,{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=s,r.setAttribute("download",`questions_export.${C}`),document.body.appendChild(r),r.click(),r.remove(),D({type:"success",text:"Export completed successfully"})}catch(e){D({type:"error",text:"Export failed"})}finally{t(!1)}};return(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bulk Operations"}),s&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Questions"}),r.jsx("p",{className:"text-2xl font-bold",children:s.totalQuestions})]}),(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.activeQuestions})]}),(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inactive"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.inactiveQuestions})]}),(0,r.jsxs)("div",{className:"card p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"By Difficulty"}),(0,r.jsxs)("p",{className:"text-xs mt-1",children:["Easy: ",s.byDifficulty?.easy||0,", Medium: ",s.byDifficulty?.medium||0,", Hard: ",s.byDifficulty?.hard||0]})]})]}),B&&r.jsx("div",{className:`p-4 rounded-lg ${"success"===B.type?"bg-green-50 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-200"}`,children:B.text}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"flex space-x-8 px-6 pt-6","aria-label":"Tabs",children:[{id:"edit",name:"Bulk Edit",icon:n},{id:"delete",name:"Bulk Delete",icon:o.Z},{id:"export",name:"Export",icon:d}].map(e=>{let t=e.icon;return(0,r.jsxs)("button",{onClick:()=>m(e.id),className:`${u===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} flex items-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[r.jsx(t,{className:"h-5 w-5 mr-2"}),e.name]},e.id)})})}),(0,r.jsxs)("div",{className:"p-6",children:["edit"===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Bulk Edit Questions"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Question IDs (comma-separated)"}),r.jsx("textarea",{value:x,onChange:e=>p(e.target.value),placeholder:"e.g., 60f7b3d4e8f0a2b3c4d5e6f7, 60f7b3d4e8f0a2b3c4d5e6f8",className:"input",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,r.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"input",children:[r.jsx("option",{value:"",children:"No change"}),r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marks"}),r.jsx("input",{type:"number",value:f,onChange:e=>j(e.target.value),placeholder:"Leave empty for no change",className:"input"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma-separated)"}),r.jsx("input",{value:v,onChange:e=>b(e.target.value),placeholder:"e.g., physics, mechanics",className:"input"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Active Status"}),(0,r.jsxs)("select",{value:y.toString(),onChange:e=>k(""===e.target.value?"":"true"===e.target.value),className:"input",children:[r.jsx("option",{value:"",children:"No change"}),r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Inactive"})]})]})]}),r.jsx("button",{onClick:R,disabled:e,className:"btn-primary",children:e?r.jsx(l.$,{size:"sm"}):"Apply Bulk Edit"})]}),"delete"===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:"⚠️ Warning: Bulk delete is permanent and cannot be undone!"})}),r.jsx("h3",{className:"text-lg font-medium",children:"Bulk Delete Questions"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Provide either specific question IDs OR filters (not both)"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Question IDs (comma-separated)"}),r.jsx("textarea",{value:N,onChange:e=>w(e.target.value),placeholder:"e.g., 60f7b3d4e8f0a2b3c4d5e6f7, 60f7b3d4e8f0a2b3c4d5e6f8",className:"input",rows:3})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"OR use filters:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,r.jsxs)("select",{value:P,onChange:e=>S(e.target.value),className:"input",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,r.jsxs)("select",{value:E.toString(),onChange:e=>q(""===e.target.value?"":"true"===e.target.value),className:"input",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Inactive"})]})]})]}),r.jsx("button",{onClick:O,disabled:e,className:"btn-danger",children:e?r.jsx(l.$,{size:"sm"}):"Delete Questions"})]}),"export"===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Export Questions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Format"}),(0,r.jsxs)("select",{value:C,onChange:e=>_(e.target.value),className:"input",children:[r.jsx("option",{value:"csv",children:"CSV"}),r.jsx("option",{value:"json",children:"JSON"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty Filter (Optional)"}),(0,r.jsxs)("select",{value:L,onChange:e=>A(e.target.value),className:"input",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]}),r.jsx("button",{onClick:$,disabled:e,className:"btn-primary",children:e?r.jsx(l.$,{size:"sm"}):"Export Questions"})]})]})]})]})}},7022:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(10326),a=s(95304),i=s(35047);s(17577);var l=s(35590);function n({children:e}){let{user:t,isLoading:s}=(0,a.a)();return((0,i.useRouter)(),s)?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(l.$,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):t&&"admin"===t.role?r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"You need admin privileges to access this dashboard."})]})})}},7584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(10326),a=s(97270),i=s.n(a);s(23824);var l=s(95304),n=s(17577);let o=(0,n.createContext)(void 0);function d({children:e}){let[t,s]=(0,n.useState)("light");return r.jsx(o.Provider,{value:{theme:t,toggleTheme:()=>{let e="light"===t?"dark":"light";s(e),localStorage.setItem("theme",e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},children:e})}var c=s(40381);function u({children:e}){return r.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:r.jsx("body",{className:i().className,children:r.jsx(d,{children:(0,r.jsxs)(l.H,{children:[e,r.jsx(c.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"}}})]})})})})}},35590:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(10326);function a({size:e="md",color:t="primary",className:s=""}){return(0,r.jsxs)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[e]} ${{primary:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]} ${s}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}s(17577)},95304:(e,t,s)=>{"use strict";s.d(t,{H:()=>o,a:()=>d});var r=s(10326),a=s(17577),i=s(76219),l=s(40381);let n=(0,a.createContext)(void 0);function o({children:e}){let[t,s]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),m=async e=>{try{d(!0);let t=await i.O.login(e);return u(t.token),s(t.user),localStorage.setItem("auth_token",t.token),l.ZP.success("Login successful!"),t}catch(e){throw l.ZP.error(e.message||"Login failed"),e}finally{d(!1)}};return r.jsx(n.Provider,{value:{user:t,token:c,isLoading:o,login:m,logout:()=>{s(null),u(null),localStorage.removeItem("auth_token"),l.ZP.success("Logged out successfully")}},children:e})}function d(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},76219:(e,t,s)=>{"use strict";s.d(t,{O:()=>a,h:()=>r});let r=s(94464).Z.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),r.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("auth_token"),window.location.href="/auth/login"),Promise.reject(e)));let a={async login(e){try{return(await r.post("/auth/login",e)).data}catch(e){throw Error(e.response?.data?.error||"Login failed")}},async register(e){try{return(await r.post("/auth/register",e)).data}catch(e){throw Error(e.response?.data?.error||"Registration failed")}},async getCurrentUser(){try{return(await r.get("/auth/me")).data.user}catch(e){throw Error(e.response?.data?.error||"Failed to get user")}},logout(){localStorage.removeItem("auth_token")}}},39267:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/bulk-operations/page.tsx#default`)},22834:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx#default`)},32029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/layout.tsx#default`)},23824:()=>{},43404:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[342],()=>s(22431));module.exports=r})();
(()=>{var e={};e.id=171,e.ids=[171],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(4847),s(22834),s(32029),s(35866);var a=s(23191),r=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["dashboard",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4847)),"/app/admin_dashboard/frontend/src/app/dashboard/analytics/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/app/admin_dashboard/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/admin_dashboard/frontend/src/app/dashboard/analytics/page.tsx"],x="/dashboard/analytics/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/analytics/page",pathname:"/dashboard/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},77117:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},94200:(e,t,s)=>{Promise.resolve().then(s.bind(s,80779))},53106:(e,t,s)=>{Promise.resolve().then(s.bind(s,7022))},91051:(e,t,s)=>{Promise.resolve().then(s.bind(s,57480))},80779:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var a={};s.r(a);var r=s(10326),n=s(17577),i=s(23351);let l=n.forwardRef(function({title:e,titleId:t,...s},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});var o=s(12012),c=s(29917),d=s(16041),x=s(96229);let h=n.forwardRef(function({title:e,titleId:t,...s},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});var m=s(30660),u=s(49844),p=s(18423),v=s(62637),f=s(9997),g=s(44675),j=s(8564),b=s(20751),N=s(78948),y=s(99630),w=s(69274),E=s(90434);function O(){let{user:e}=Object(function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}())(),[t,s]=(0,n.useState)(null),[O,k]=(0,n.useState)(!0),[_,D]=(0,n.useState)("7d"),[C,L]=(0,n.useState)(""),[U,M]=(0,n.useState)(!1),A=async()=>{try{M(!0);let e=await Object(function(){var e=Error("Cannot find module '@/services/auth/authService'");throw e.code="MODULE_NOT_FOUND",e}()).post("/admin/analytics/ai-suggestions",{type:"content-analysis",context:{timeRange:_}});L(e.data.suggestions)}catch(e){console.error("Error fetching AI insights:",e)}finally{M(!1)}},P=()=>t?.statistics.difficultyDistribution?t.statistics.difficultyDistribution.map(e=>({difficulty:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),count:e._count.id,fill:"easy"===e.difficulty?"#10B981":"medium"===e.difficulty?"#F59E0B":"#EF4444"})):[];return O?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/common/Spinner'");throw e.code="MODULE_NOT_FOUND",e}()),{size:"lg"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:(0,r.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Comprehensive insights and performance metrics"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("select",{value:_,onChange:e=>D(e.target.value),className:"input",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]}),(0,r.jsxs)("button",{onClick:A,disabled:U,className:"btn-primary flex items-center space-x-2",children:[r.jsx(i.Z,{className:"h-5 w-5"}),r.jsx("span",{children:U?"Analyzing...":"AI Insights"})]})]})]}),r.jsx("nav",{className:"flex mt-4",children:(0,r.jsxs)("ol",{className:"flex items-center space-x-2",children:[r.jsx("li",{children:r.jsx(E.default,{href:"/dashboard",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})}),(0,r.jsxs)("li",{children:[r.jsx("span",{className:"mx-2",children:"/"}),r.jsx("span",{children:"Analytics"})]})]})})]})}),(0,r.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"card p-6 bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(l,{className:"h-8 w-8"}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-blue-100",children:"Total Users"}),r.jsx("p",{className:"text-3xl font-bold",children:t?.overview.totalUsers||0})]})]})}),r.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-500 to-green-600 text-white",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(o.Z,{className:"h-8 w-8"}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-green-100",children:"Total Exams"}),r.jsx("p",{className:"text-3xl font-bold",children:t?.overview.totalExams||0})]})]})}),r.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(c.Z,{className:"h-8 w-8"}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-purple-100",children:"Total Questions"}),r.jsx("p",{className:"text-3xl font-bold",children:t?.overview.totalQuestions||0})]})]})}),r.jsx("div",{className:"card p-6 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(a.TrendingUpIcon,{className:"h-8 w-8"}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-orange-100",children:"Tests Taken"}),r.jsx("p",{className:"text-3xl font-bold",children:t?.overview.totalTests||0})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Content Hierarchy"}),r.jsx(d.Z,{className:"h-5 w-5 text-gray-400"})]}),r.jsx(m.h,{width:"100%",height:300,children:(0,r.jsxs)(u.v,{data:t?.overview?[{level:"Exams",count:t.overview.totalExams,color:"#8B5CF6"},{level:"Subjects",count:t.overview.totalSubjects,color:"#06B6D4"},{level:"Chapters",count:t.overview.totalChapters,color:"#10B981"},{level:"Topics",count:t.overview.totalTopics,color:"#F59E0B"},{level:"Subtopics",count:t.overview.totalSubtopics,color:"#EF4444"},{level:"Sections",count:t.overview.totalSections,color:"#8B5CF6"},{level:"Subsections",count:t.overview.totalSubsections,color:"#06B6D4"},{level:"Questions",count:t.overview.totalQuestions,color:"#10B981"}]:[],children:[r.jsx(p.q,{strokeDasharray:"3 3"}),r.jsx(v.K,{dataKey:"level"}),r.jsx(f.B,{}),r.jsx(g.u,{}),r.jsx(j.$,{dataKey:"count",fill:"#8884d8"})]})})]}),(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Question Difficulty Distribution"}),r.jsx(x.Z,{className:"h-5 w-5 text-gray-400"})]}),r.jsx(m.h,{width:"100%",height:300,children:(0,r.jsxs)(b.u,{children:[r.jsx(N.b,{data:P(),cx:"50%",cy:"50%",labelLine:!1,label:({difficulty:e,count:t})=>`${e}: ${t}`,outerRadius:100,fill:"#8884d8",dataKey:"count",children:P().map((e,t)=>r.jsx(y.b,{fill:e.fill},`cell-${t}`))}),r.jsx(g.u,{})]})})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 mb-8",children:(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Questions per Exam"}),r.jsx(d.Z,{className:"h-5 w-5 text-gray-400"})]}),r.jsx(m.h,{width:"100%",height:400,children:(0,r.jsxs)(u.v,{data:t?.statistics.questionsPerExam?t.statistics.questionsPerExam.slice(0,10):[],margin:{top:20,right:30,left:20,bottom:5},children:[r.jsx(p.q,{strokeDasharray:"3 3"}),r.jsx(v.K,{dataKey:"examName"}),r.jsx(f.B,{}),r.jsx(g.u,{}),r.jsx(w.D,{}),r.jsx(j.$,{dataKey:"questionCount",fill:"#0088FE"})]})})]})}),C&&(0,r.jsxs)("div",{className:"card p-6 mb-8 border-l-4 border-blue-500",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx(i.Z,{className:"h-6 w-6 text-blue-500 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI-Powered Insights"})]}),r.jsx("div",{className:"prose dark:prose-invert max-w-none",children:r.jsx("pre",{className:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:C})})]}),(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"}),r.jsx(h,{className:"h-5 w-5 text-gray-400"})]}),t?.recentActivity&&t.recentActivity.length>0?r.jsx("div",{className:"space-y-4",children:t.recentActivity.slice(0,5).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(c.Z,{className:"h-8 w-8 text-blue-500"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"New question added"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.subsection?.name," â€¢ ",e.difficulty]})]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleDateString()})]},t))}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No recent activity found"})]})]})]})}(function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/services/auth/authService'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/common/Spinner'");throw e.code="MODULE_NOT_FOUND",e}()},7022:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(10326);!function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}();var r=s(35047);function n({children:e}){let{user:t,isLoading:s}=Object(function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}())();return((0,r.useRouter)(),s)?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/common/Spinner'");throw e.code="MODULE_NOT_FOUND",e}()),{size:"lg"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):t&&"admin"===t.role?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"You need admin privileges to access this dashboard."})]})})}s(17577),function(){var e=Error("Cannot find module '@/components/ui/common/Spinner'");throw e.code="MODULE_NOT_FOUND",e}()},57480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(10326),r=s(97270),n=s.n(r);s(23824),function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/contexts/theme/ThemeContext'");throw e.code="MODULE_NOT_FOUND",e}();var i=s(40381);function l({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:a.jsx("body",{className:n().className,children:a.jsx(Object(function(){var e=Error("Cannot find module '@/contexts/theme/ThemeContext'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,a.jsxs)(Object(function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[e,a.jsx(i.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"}}})]})})})})}},4847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/analytics/page.tsx#default`)},22834:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx#default`)},32029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/layout.tsx#default`)},23824:()=>{},96229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},29917:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))})},23351:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[99,496,265],()=>s(9883));module.exports=a})();
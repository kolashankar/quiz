(()=>{var e={};e.id=529,e.ids=[529],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},71780:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>f,originalPathname:()=>p,pages:()=>h,routeModule:()=>g,tree:()=>m}),s(1719),s(22834),s(32029),s(35866);var l=s(23191),r=s(88716),c=s(37922),o=s.n(c),d=s(95231),u={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>d[e]);s.d(t,u);let m=["",{children:["dashboard",{children:["questions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1719)),"/app/admin_dashboard/frontend/src/app/dashboard/questions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/app/admin_dashboard/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],h=["/app/admin_dashboard/frontend/src/app/dashboard/questions/page.tsx"],p="/dashboard/questions/page",f={require:s,loadChunk:()=>Promise.resolve()},g=new l.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/questions/page",pathname:"/dashboard/questions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},92162:(e,t,s)=>{Promise.resolve().then(s.bind(s,69174))},33265:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var l=s(43353),r=s.n(l)},43353:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let l=s(91174);s(10326),s(17577);let r=l._(s(77028));function c(e,t){var s;let l={loading:e=>{let{error:t,isLoading:s,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let c={...l,...t};return(0,r.default)({...c,modules:null==(s=c.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let l=s(94129);function r(e){let{reason:t,children:s}=e;throw new l.BailoutToCSRError(t)}},77028:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});let l=s(10326),r=s(17577),c=s(933),o=s(46618);function d(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},m=function(e){let t={...u,...e},s=(0,r.lazy)(()=>t.loader().then(d)),m=t.loading;function h(e){let d=m?(0,l.jsx)(m,{isLoading:!0,pastDelay:!0,error:null}):null,u=t.ssr?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.PreloadCss,{moduleIds:t.modules}),(0,l.jsx)(s,{...e})]}):(0,l.jsx)(c.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(s,{...e})});return(0,l.jsx)(r.Suspense,{fallback:d,children:u})}return h.displayName="LoadableComponent",h}},46618:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return c}});let l=s(10326),r=s(54580);function c(e){let{moduleIds:t}=e,s=(0,r.getExpectedRequestStore)("next/dynamic css"),c=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));c.push(...t)}}return 0===c.length?null:(0,l.jsx)(l.Fragment,{children:c.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},69174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var l=s(10326),r=s(17577),c=s(43404),o=s(86421),d=s(23351),u=s(84625),m=s(60361),h=s(79142);let p=r.forwardRef(function({title:e,titleId:t,...s},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var f=s(12012);let g=r.forwardRef(function({title:e,titleId:t,...s},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))});var j=s(72591),v=s(33265);s(24221),s(32289);var w=s(76219),k=s(40381);let N=(0,v.default)(async()=>{},{loadableGenerated:{modules:["components/ui/advanced/QuestionEditor.tsx -> react-quill"]},ssr:!1});function C({value:e,onChange:t,placeholder:s="Enter your question...",className:c="",enableAI:o=!1}){let[u,m]=(0,r.useState)(!1),[h,v]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),[q,P]=(0,r.useState)(""),[Z,E]=(0,r.useState)(""),[A,L]=(0,r.useState)("javascript"),M=(0,r.useRef)(null),I=(0,r.useRef)(null),_=async e=>{if(e.size>2097152){k.ZP.error("Image size should be less than 2MB");return}try{let t=new FileReader;t.onload=e=>{let t=e.target?.result,s=I.current?.getEditor?.();if(s){let e=s.getSelection(!0);s.insertEmbed(e.index,"image",t),s.setSelection(e.index+1)}k.ZP.success("Image uploaded successfully"),m(!1)},t.readAsDataURL(e)}catch(e){k.ZP.error("Failed to upload image")}},O=async()=>{if(!e.trim()){k.ZP.error("Please enter some text first");return}try{let s=await w.h.post("/admin/ai/improve-question",{questionText:e});t(s.data.improvedText),k.ZP.success("Text improved with AI")}catch(e){k.ZP.error("Failed to improve text")}};return(0,l.jsxs)("div",{className:`relative ${c}`,children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-t-lg border border-b-0",children:[l.jsx("button",{type:"button",onClick:()=>m(!u),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Image",children:l.jsx(p,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>v(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Formula",children:l.jsx(f.Z,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>S(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Code",children:l.jsx(g,{className:"h-4 w-4"})}),o&&l.jsx("button",{type:"button",onClick:O,className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded",title:"Improve with AI",children:l.jsx(d.Z,{className:"h-4 w-4"})})]}),u&&(0,l.jsxs)("div",{className:"absolute top-14 left-0 z-10 bg-white dark:bg-gray-800 border rounded-lg shadow-lg p-4 w-64",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Upload Image"}),l.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(j.Z,{className:"h-4 w-4"})})]}),l.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&_(t)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Max size: 2MB"})]}),l.jsx(N,{theme:"snow",value:e,onChange:t,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","formula"],["clean"]],formula:!0},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","script","formula","code-block"],placeholder:s,className:"bg-white"}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Formula"}),l.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(j.Z,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LaTeX Formula"}),l.jsx("textarea",{value:q,onChange:e=>P(e.target.value),placeholder:"e.g., E = mc^2",className:"input w-full h-24"})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[l.jsx("p",{children:"Examples:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[l.jsx("li",{children:"E = mc^2"}),(0,l.jsxs)("li",{children:["\\frac",a,b]}),(0,l.jsxs)("li",{children:["\\sqrt",x+y]}),(0,l.jsxs)("li",{children:["\\sum_",i=1,"^",n," x_i"]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:()=>{if(!q.trim())return;let e=I.current?.getEditor?.();if(e){let t=e.getSelection(!0);e.insertEmbed(t.index,"formula",q),e.setSelection(t.index+1)}P(""),v(!1),k.ZP.success("Formula inserted")},className:"btn-primary",children:"Insert Formula"})]})]})]})}),C&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Code"}),l.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(j.Z,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),(0,l.jsxs)("select",{value:A,onChange:e=>L(e.target.value),className:"input w-full",children:[l.jsx("option",{value:"javascript",children:"JavaScript"}),l.jsx("option",{value:"python",children:"Python"}),l.jsx("option",{value:"java",children:"Java"}),l.jsx("option",{value:"cpp",children:"C++"}),l.jsx("option",{value:"c",children:"C"}),l.jsx("option",{value:"html",children:"HTML"}),l.jsx("option",{value:"css",children:"CSS"}),l.jsx("option",{value:"sql",children:"SQL"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Code"}),l.jsx("textarea",{value:Z,onChange:e=>E(e.target.value),placeholder:"Enter your code here...",className:"input w-full h-32 font-mono text-sm"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>S(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:()=>{if(!Z.trim())return;let e=I.current?.getEditor?.();if(e){let t=e.getSelection(!0),s=`\`\`\`${A}
${Z}
\`\`\``;e.insertText(t.index,s,"code-block",!0),e.setSelection(t.index+s.length)}E(""),S(!1),k.ZP.success("Code snippet inserted")},className:"btn-primary",children:"Insert Code"})]})]})]})})]})}var S=s(83401);let q=r.forwardRef(function({title:e,titleId:t,...s},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var P=s(34790),Z=s(71684);let E=r.forwardRef(function({title:e,titleId:t,...s},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))});function A({selectedIds:e,selectedItems:t,onClearSelection:s,onRefresh:d,entityType:u}){let[m,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),[j,v]=(0,r.useState)(""),[N,C]=(0,r.useState)(!1),A=[{id:"delete",label:"Delete Selected",icon:c.Z,color:"text-red-600",description:"Permanently delete selected items"},{id:"activate",label:"Activate",icon:S.Z,color:"text-green-600",description:"Mark selected items as active"},{id:"deactivate",label:"Deactivate",icon:q,color:"text-gray-600",description:"Mark selected items as inactive"},{id:"export",label:"Export CSV",icon:P.Z,color:"text-blue-600",description:"Export selected items to CSV"}];"questions"===u&&A.push({id:"difficulty",label:"Set Difficulty",icon:Z.Z,color:"text-yellow-600",description:"Change difficulty level of selected questions",requiresInput:!0,inputType:"select",inputOptions:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]},{id:"timeLimit",label:"Set Time Limit",icon:o.Z,color:"text-purple-600",description:"Set time limit for selected questions",requiresInput:!0,inputType:"number"},{id:"tags",label:"Add Tags",icon:E,color:"text-indigo-600",description:"Add tags to selected questions",requiresInput:!0,inputType:"text"});let L=e=>{g(e),v(""),e.requiresInput?p(!0):M(e)},M=async(e,t)=>{C(!0);try{switch(e.id){case"delete":await I();break;case"activate":await _({isActive:!0});break;case"deactivate":await _({isActive:!1});break;case"export":await O();break;case"difficulty":await _({difficulty:t});break;case"timeLimit":await _({timeLimit:parseInt(t||"60")});break;case"tags":let s=t?.split(",").map(e=>e.trim())||[];await _({tags:s});break;default:k.ZP.error("Unknown action")}}catch(e){console.error("Batch operation failed:",e)}finally{C(!1),p(!1),g(null)}},I=async()=>{if(confirm(`Are you sure you want to delete ${e.length} ${u}?`))try{await w.h.delete(`/admin/${u}/batch`,{data:{ids:e}}),k.ZP.success(`Deleted ${e.length} ${u}`),s(),d()}catch(e){k.ZP.error("Failed to delete items")}},_=async t=>{try{await w.h.patch(`/admin/${u}/batch`,{ids:e,updates:t}),k.ZP.success(`Updated ${e.length} ${u}`),s(),d()}catch(e){k.ZP.error("Failed to update items")}},O=async()=>{try{let t=await w.h.post(`/admin/${u}/export`,{ids:e},{responseType:"blob"}),l=new Blob([t.data],{type:"text/csv"}),r=window.URL.createObjectURL(l),c=document.createElement("a");c.href=r,c.download=`${u}_export_${new Date().toISOString().split("T")[0]}.csv`,c.click(),window.URL.revokeObjectURL(r),k.ZP.success(`Exported ${e.length} ${u}`),s()}catch(e){k.ZP.error("Failed to export items")}};return 0===e.length?null:(0,l.jsxs)(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.length," ",u," selected"]}),l.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Clear"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:A.map(e=>(0,l.jsxs)("button",{onClick:()=>L(e),disabled:N,className:`flex items-center space-x-1 px-3 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 ${e.color} ${N?"opacity-50 cursor-not-allowed":""}`,title:e.description,children:[l.jsx(e.icon,{className:"h-4 w-4"}),l.jsx("span",{children:e.label})]},e.id))})]})})}),l.jsx(h.u,{isOpen:m,onClose:()=>p(!1),title:`${f?.label} - ${e.length} items`,size:"md",children:f&&(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.description}),"select"===f.inputType&&f.inputOptions?(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Value"}),(0,l.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"input w-full",children:[l.jsx("option",{value:"",children:"Choose..."}),f.inputOptions.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))]})]}):"number"===f.inputType?(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Value"}),l.jsx("input",{type:"number",value:j,onChange:e=>v(e.target.value),className:"input w-full",placeholder:"Enter number..."})]}):"text"===f.inputType?(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Text"}),l.jsx("input",{type:"text",value:j,onChange:e=>v(e.target.value),className:"input w-full",placeholder:"Enter text (comma-separated for tags)..."})]}):null,(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>p(!1),className:"btn-secondary",disabled:N,children:"Cancel"}),l.jsx("button",{onClick:()=>M(f,j),className:"btn-primary",disabled:N||f.requiresInput&&!j.trim(),children:N?"Processing...":"Apply"})]})]})})]})}var L=s(48992),M=s(74723),I=s(90434);function _(){let[e,t]=(0,r.useState)([]),[s,p]=(0,r.useState)([]),[f,g]=(0,r.useState)(!0),[j,v]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),[S,q]=(0,r.useState)(!1),[P,Z]=(0,r.useState)(null),[E,_]=(0,r.useState)(""),[O,$]=(0,r.useState)(""),[R,T]=(0,r.useState)([]),[D,F]=(0,r.useState)(1),[B,z]=(0,r.useState)(1),[U,G]=(0,r.useState)(!1),{register:Q,handleSubmit:H,reset:W,watch:V,setValue:J,formState:{errors:X}}=(0,M.cI)(),[K,Y]=(0,r.useState)(""),[ee,et]=(0,r.useState)(""),es=async()=>{try{g(!0);let e=await L.eh.getAll({subsectionId:E||void 0,difficulty:O||void 0,page:D,limit:10});t(e.questions||[]),z(e.pagination.pages)}catch(e){k.ZP.error("Failed to fetch questions")}finally{g(!1)}},ea=async e=>{if(confirm("Delete this question?"))try{await L.eh.delete(e.id),k.ZP.success("Deleted"),es()}catch(e){k.ZP.error("Failed to delete")}},el=async e=>{try{let t={...e,text:K,explanation:ee};P?(await L.eh.update(P.id,t),k.ZP.success("Updated")):(await L.eh.create(t),k.ZP.success("Created")),v(!1),es()}catch(e){k.ZP.error("Failed to save")}},er=async()=>{if(R.length&&confirm(`Delete ${R.length} question(s)?`))try{await L.eh.batchDelete(R),k.ZP.success(`Deleted ${R.length}`),T([]),es()}catch(e){k.ZP.error("Failed to delete")}},ei=async e=>{if(!R.length){k.ZP.error("No questions selected");return}try{await L.eh.batchUpdate({ids:R,updates:e}),k.ZP.success(`Updated ${R.length} question(s)`),T([]),N(!1),es()}catch(e){k.ZP.error("Failed to update")}},en=async(e,t,s)=>{G(!0);try{let l=await L.$9.generateQuestions({topic:e,difficulty:t,count:s});for(let e of(k.ZP.success(`Generated ${l.questions.length} question(s)`),l.questions))await L.eh.create({...e,subsectionId:E});q(!1),es()}catch(e){k.ZP.error("Failed to generate questions")}finally{G(!1)}},ec=async()=>{if(!K){k.ZP.error("Enter question text first");return}try{let e=await L.$9.suggestDifficulty(K);J("difficulty",e.difficulty),k.ZP.success(`Suggested: ${e.difficulty}`)}catch(e){k.ZP.error("Failed to suggest difficulty")}},eo=async()=>{if(!K){k.ZP.error("Enter question text first");return}let e=V("options"),t=V("correctAnswer");if(!e||!e[t]){k.ZP.error("Set correct answer first");return}try{let s=await L.$9.generateExplanation(K,e[t]);et(s.explanation),k.ZP.success("Generated explanation")}catch(e){k.ZP.error("Failed to generate explanation")}};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Questions Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Level 8 - Manage quiz questions"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[R.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:er,className:"btn-secondary flex items-center space-x-2",children:[l.jsx(c.Z,{className:"h-5 w-5"}),(0,l.jsxs)("span",{children:["Delete (",R.length,")"]})]}),(0,l.jsxs)("button",{onClick:()=>N(!0),className:"btn-secondary flex items-center space-x-2",children:[l.jsx(o.Z,{className:"h-5 w-5"}),l.jsx("span",{children:"Batch Edit"})]})]}),(0,l.jsxs)("button",{onClick:()=>q(!0),className:"btn-secondary flex items-center space-x-2",children:[l.jsx(d.Z,{className:"h-5 w-5"}),l.jsx("span",{children:"AI Generate"})]}),(0,l.jsxs)("button",{onClick:()=>{Z(null),W({text:"",options:["","","",""],correctAnswer:0,explanation:"",difficulty:"medium",tags:[],timeLimit:60,marks:1,negativeMarks:0,subsectionId:E||"",isActive:!0}),Y(""),et(""),v(!0)},className:"btn-primary flex items-center space-x-2",children:[l.jsx(u.Z,{className:"h-5 w-5"}),l.jsx("span",{children:"Add Question"})]})]})]})})}),l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,l.jsxs)("nav",{className:"flex justify-between",children:[(0,l.jsxs)("ol",{className:"flex items-center space-x-2",children:[l.jsx("li",{children:l.jsx(I.default,{href:"/dashboard",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})}),(0,l.jsxs)("li",{children:[l.jsx("span",{className:"mx-2",children:"/"}),l.jsx("span",{children:"Questions"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("select",{value:E,onChange:e=>_(e.target.value),className:"input",children:[l.jsx("option",{value:"",children:"All Subsections"}),s.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,l.jsxs)("select",{value:O,onChange:e=>$(e.target.value),className:"input",children:[l.jsx("option",{value:"",children:"All Difficulties"}),l.jsx("option",{value:"easy",children:"Easy"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"hard",children:"Hard"})]})]})]})}),(0,l.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx(m.w,{data:e,columns:[{key:"text",header:"Question",render:e=>l.jsx("div",{className:"max-w-md",dangerouslySetInnerHTML:{__html:e.text.substring(0,100)+"..."}})},{key:"difficulty",header:"Difficulty",sortable:!0,render:e=>l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"easy"===e.difficulty?"bg-green-100 text-green-800":"medium"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.difficulty})},{key:"marks",header:"Marks",sortable:!0},{key:"timeLimit",header:"Time (s)",sortable:!0},{key:"subsection",header:"Subsection",render:e=>e.subsection?.name||"N/A"},{key:"isActive",header:"Status",render:e=>l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100"}`,children:e.isActive?"Active":"Inactive"})}],loading:f,onEdit:e=>{Z(e),W({text:e.text,options:e.options,correctAnswer:e.correctAnswer,explanation:e.explanation||"",difficulty:e.difficulty,tags:e.tags,timeLimit:e.timeLimit||60,marks:e.marks,negativeMarks:e.negativeMarks||0,subsectionId:e.subsectionId,isActive:e.isActive}),Y(e.text),et(e.explanation||""),v(!0)},onDelete:ea,searchPlaceholder:"Search questions...",emptyMessage:"No questions",selectable:!0,selectedIds:R,onSelectionChange:T}),B>1&&(0,l.jsxs)("div",{className:"mt-4 flex justify-center space-x-2",children:[l.jsx("button",{onClick:()=>F(e=>Math.max(1,e-1)),disabled:1===D,className:"btn-secondary",children:"Previous"}),(0,l.jsxs)("span",{className:"py-2 px-4",children:["Page ",D," of ",B]}),l.jsx("button",{onClick:()=>F(e=>Math.min(B,e+1)),disabled:D===B,className:"btn-secondary",children:"Next"})]})]}),l.jsx(A,{selectedIds:R,selectedItems:e.filter(e=>R.includes(e.id)),onClearSelection:()=>T([]),onRefresh:es,entityType:"questions"}),l.jsx(h.u,{isOpen:j,onClose:()=>v(!1),title:P?"Edit Question":"Create Question",size:"2xl",children:(0,l.jsxs)("form",{onSubmit:H(el),className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Question Text *"}),(0,l.jsxs)("button",{type:"button",onClick:ec,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[l.jsx(d.Z,{className:"h-4 w-4 mr-1"}),"AI Suggest Difficulty"]})]}),l.jsx(C,{value:K,onChange:Y,placeholder:"Enter your question here...",enableAI:!0})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subsection *"}),(0,l.jsxs)("select",{...Q("subsectionId",{required:"Required"}),className:"input w-full",children:[l.jsx("option",{value:"",children:"Select"}),s.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1,2,3].map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Option ",String.fromCharCode(65+e)," *"]}),l.jsx("input",{...Q(`options.${e}`,{required:"Required"}),className:"input w-full",placeholder:`Option ${String.fromCharCode(65+e)}`})]},e))}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Correct Answer *"}),(0,l.jsxs)("select",{...Q("correctAnswer",{required:"Required",valueAsNumber:!0}),className:"input w-full",children:[l.jsx("option",{value:0,children:"A"}),l.jsx("option",{value:1,children:"B"}),l.jsx("option",{value:2,children:"C"}),l.jsx("option",{value:3,children:"D"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty *"}),(0,l.jsxs)("select",{...Q("difficulty",{required:"Required"}),className:"input w-full",children:[l.jsx("option",{value:"easy",children:"Easy"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"hard",children:"Hard"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Limit (s)"}),l.jsx("input",{type:"number",...Q("timeLimit",{valueAsNumber:!0}),className:"input w-full",placeholder:"60"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marks"}),l.jsx("input",{type:"number",...Q("marks",{valueAsNumber:!0}),className:"input w-full",placeholder:"1"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Negative Marks"}),l.jsx("input",{type:"number",step:"0.1",...Q("negativeMarks",{valueAsNumber:!0}),className:"input w-full",placeholder:"0"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Explanation"}),(0,l.jsxs)("button",{type:"button",onClick:eo,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[l.jsx(d.Z,{className:"h-4 w-4 mr-1"}),"AI Generate"]})]}),l.jsx(C,{value:ee,onChange:et,placeholder:"Enter explanation here...",enableAI:!0})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...Q("isActive"),id:"isActive",className:"rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm",children:"Active"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:P?"Update":"Create"})]})]})}),l.jsx(h.u,{isOpen:w,onClose:()=>N(!1),title:"Batch Update Questions",size:"lg",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Update ",R.length," selected question(s)"]}),l.jsx("button",{onClick:()=>ei({difficulty:"easy"}),className:"btn-secondary w-full",children:"Set Difficulty: Easy"}),l.jsx("button",{onClick:()=>ei({difficulty:"medium"}),className:"btn-secondary w-full",children:"Set Difficulty: Medium"}),l.jsx("button",{onClick:()=>ei({difficulty:"hard"}),className:"btn-secondary w-full",children:"Set Difficulty: Hard"}),l.jsx("button",{onClick:()=>ei({timeLimit:60}),className:"btn-secondary w-full",children:"Set Time: 60s"}),l.jsx("button",{onClick:()=>ei({timeLimit:90}),className:"btn-secondary w-full",children:"Set Time: 90s"}),l.jsx("button",{onClick:()=>ei({marks:1}),className:"btn-secondary w-full",children:"Set Marks: 1"}),l.jsx("button",{onClick:()=>ei({marks:2}),className:"btn-secondary w-full",children:"Set Marks: 2"}),l.jsx("button",{onClick:()=>ei({isActive:!0}),className:"btn-secondary w-full",children:"Activate All"}),l.jsx("button",{onClick:()=>ei({isActive:!1}),className:"btn-secondary w-full",children:"Deactivate All"})]})}),l.jsx(h.u,{isOpen:S,onClose:()=>q(!1),title:"AI Generate Questions",size:"lg",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.target);en(t.get("topic"),t.get("difficulty"),parseInt(t.get("count")))},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Topic"}),l.jsx("input",{name:"topic",className:"input w-full",placeholder:"e.g., Newton's Laws of Motion",required:!0})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,l.jsxs)("select",{name:"difficulty",className:"input w-full",defaultValue:"medium",children:[l.jsx("option",{value:"easy",children:"Easy"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"hard",children:"Hard"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Count"}),l.jsx("input",{name:"count",type:"number",min:"1",max:"10",defaultValue:"3",className:"input w-full"})]}),E&&l.jsx("p",{className:"text-sm text-gray-600",children:"Questions will be added to the selected subsection"}),!E&&l.jsx("p",{className:"text-sm text-red-600",children:"Please select a subsection filter first"}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>q(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:U||!E,className:"btn-primary",children:U?"Generating...":"Generate"})]})]})})]})}},1719:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/questions/page.tsx#default`)},32289:()=>{},24221:()=>{},12012:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(17577);let r=l.forwardRef(function({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))})},83401:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(17577);let r=l.forwardRef(function({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},86421:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(17577);let r=l.forwardRef(function({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},34790:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(17577);let r=l.forwardRef(function({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},23351:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(17577);let r=l.forwardRef(function({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))})},71684:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(17577);let r=l.forwardRef(function({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),l=t.X(0,[342,496,723,410,422],()=>s(71780));module.exports=l})();
(()=>{var e={};e.id=529,e.ids=[529],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},71780:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(1719),s(22834),s(32029),s(35866);var a=s(23191),l=s(88716),r=s(37922),i=s.n(r),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["dashboard",{children:["questions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1719)),"/app/admin_dashboard/frontend/src/app/dashboard/questions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/app/admin_dashboard/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/admin_dashboard/frontend/src/app/dashboard/questions/page.tsx"],u="/dashboard/questions/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/questions/page",pathname:"/dashboard/questions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},92162:(e,t,s)=>{Promise.resolve().then(s.bind(s,69174))},33265:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var a=s(43353),l=s.n(a)},43353:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let a=s(91174);s(10326),s(17577);let l=a._(s(77028));function r(e,t){var s;let a={loading:e=>{let{error:t,isLoading:s,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let r={...a,...t};return(0,l.default)({...r,modules:null==(s=r.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let a=s(94129);function l(e){let{reason:t,children:s}=e;throw new a.BailoutToCSRError(t)}},77028:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let a=s(10326),l=s(17577),r=s(933),i=s(46618);function n(e){return{default:e&&"default"in e?e.default:e}}let c={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},o=function(e){let t={...c,...e},s=(0,l.lazy)(()=>t.loader().then(n)),o=t.loading;function d(e){let n=o?(0,a.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.PreloadCss,{moduleIds:t.modules}),(0,a.jsx)(s,{...e})]}):(0,a.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(l.Suspense,{fallback:n,children:c})}return d.displayName="LoadableComponent",d}},46618:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return r}});let a=s(10326),l=s(54580);function r(e){let{moduleIds:t}=e,s=(0,l.getExpectedRequestStore)("next/dynamic css"),r=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));r.push(...t)}}return 0===r.length?null:(0,a.jsx)(a.Fragment,{children:r.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},69174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var a=s(10326),l=s(17577),r=s(43404),i=s(86421),n=s(23351),c=s(84625),o=s(60361),d=s(79142);let u=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var m=s(12012);let x=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))});var h=s(72591),p=s(33265);s(24221),s(32289);var b=s(76219),f=s(40381);let g=(0,p.default)(async()=>{},{loadableGenerated:{modules:["components/ui/advanced/QuestionEditor.tsx -> react-quill"]},ssr:!1});function j({value:e,onChange:t,placeholder:s="Enter your question...",className:r="",enableAI:i=!1}){let[c,o]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[v,w]=(0,l.useState)(""),[k,N]=(0,l.useState)(""),[C,S]=(0,l.useState)("javascript"),q=(0,l.useRef)(null),P=(0,l.useRef)(null),Z=async e=>{if(e.size>2097152){f.ZP.error("Image size should be less than 2MB");return}try{let t=new FileReader;t.onload=e=>{let t=e.target?.result,s=P.current?.getEditor?.();if(s){let e=s.getSelection(!0);s.insertEmbed(e.index,"image",t),s.setSelection(e.index+1)}f.ZP.success("Image uploaded successfully"),o(!1)},t.readAsDataURL(e)}catch(e){f.ZP.error("Failed to upload image")}},E=async()=>{if(!e.trim()){f.ZP.error("Please enter some text first");return}try{let s=await b.h.post("/admin/ai/improve-question",{questionText:e});t(s.data.improvedText),f.ZP.success("Text improved with AI")}catch(e){f.ZP.error("Failed to improve text")}};return(0,a.jsxs)("div",{className:`relative ${r}`,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-t-lg border border-b-0",children:[a.jsx("button",{type:"button",onClick:()=>o(!c),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Image",children:a.jsx(u,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>p(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Formula",children:a.jsx(m.Z,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>y(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded",title:"Insert Code",children:a.jsx(x,{className:"h-4 w-4"})}),i&&a.jsx("button",{type:"button",onClick:E,className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded",title:"Improve with AI",children:a.jsx(n.Z,{className:"h-4 w-4"})})]}),c&&(0,a.jsxs)("div",{className:"absolute top-14 left-0 z-10 bg-white dark:bg-gray-800 border rounded-lg shadow-lg p-4 w-64",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Upload Image"}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(h.Z,{className:"h-4 w-4"})})]}),a.jsx("input",{ref:q,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&Z(t)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Max size: 2MB"})]}),a.jsx(g,{theme:"snow",value:e,onChange:t,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","formula"],["clean"]],formula:!0},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","script","formula","code-block"],placeholder:s,className:"bg-white"}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Formula"}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(h.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LaTeX Formula"}),a.jsx("textarea",{value:v,onChange:e=>w(e.target.value),placeholder:"e.g., E = mc^2",className:"input w-full h-24"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[a.jsx("p",{children:"Examples:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[a.jsx("li",{children:"E = mc^2"}),a.jsx("li",{children:"\\frac{a}{b}"}),a.jsx("li",{children:"\\sqrt{x + y}"}),a.jsx("li",{children:"\\sum_{i=1}^{n} x_i"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:()=>{if(!v.trim())return;let e=P.current?.getEditor?.();if(e){let t=e.getSelection(!0);e.insertEmbed(t.index,"formula",v),e.setSelection(t.index+1)}w(""),p(!1),f.ZP.success("Formula inserted")},className:"btn-primary",children:"Insert Formula"})]})]})]})}),j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insert Code"}),a.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(h.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),(0,a.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"input w-full",children:[a.jsx("option",{value:"javascript",children:"JavaScript"}),a.jsx("option",{value:"python",children:"Python"}),a.jsx("option",{value:"java",children:"Java"}),a.jsx("option",{value:"cpp",children:"C++"}),a.jsx("option",{value:"c",children:"C"}),a.jsx("option",{value:"html",children:"HTML"}),a.jsx("option",{value:"css",children:"CSS"}),a.jsx("option",{value:"sql",children:"SQL"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Code"}),a.jsx("textarea",{value:k,onChange:e=>N(e.target.value),placeholder:"Enter your code here...",className:"input w-full h-32 font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>y(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:()=>{if(!k.trim())return;let e=P.current?.getEditor?.();if(e){let t=e.getSelection(!0),s=`\`\`\`${C}
${k}
\`\`\``;e.insertText(t.index,s,"code-block",!0),e.setSelection(t.index+s.length)}N(""),y(!1),f.ZP.success("Code snippet inserted")},className:"btn-primary",children:"Insert Code"})]})]})]})})]})}var y=s(83401);let v=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var w=s(34790),k=s(71684);let N=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))});function C({selectedIds:e,selectedItems:t,onClearSelection:s,onRefresh:n,entityType:c}){let[o,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null),[h,p]=(0,l.useState)(""),[g,j]=(0,l.useState)(!1),C=[{id:"delete",label:"Delete Selected",icon:r.Z,color:"text-red-600",description:"Permanently delete selected items"},{id:"activate",label:"Activate",icon:y.Z,color:"text-green-600",description:"Mark selected items as active"},{id:"deactivate",label:"Deactivate",icon:v,color:"text-gray-600",description:"Mark selected items as inactive"},{id:"export",label:"Export CSV",icon:w.Z,color:"text-blue-600",description:"Export selected items to CSV"}];"questions"===c&&C.push({id:"difficulty",label:"Set Difficulty",icon:k.Z,color:"text-yellow-600",description:"Change difficulty level of selected questions",requiresInput:!0,inputType:"select",inputOptions:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]},{id:"timeLimit",label:"Set Time Limit",icon:i.Z,color:"text-purple-600",description:"Set time limit for selected questions",requiresInput:!0,inputType:"number"},{id:"tags",label:"Add Tags",icon:N,color:"text-indigo-600",description:"Add tags to selected questions",requiresInput:!0,inputType:"text"});let S=e=>{x(e),p(""),e.requiresInput?u(!0):q(e)},q=async(e,t)=>{j(!0);try{switch(e.id){case"delete":await P();break;case"activate":await Z({isActive:!0});break;case"deactivate":await Z({isActive:!1});break;case"export":await E();break;case"difficulty":await Z({difficulty:t});break;case"timeLimit":await Z({timeLimit:parseInt(t||"60")});break;case"tags":let s=t?.split(",").map(e=>e.trim())||[];await Z({tags:s});break;default:f.ZP.error("Unknown action")}}catch(e){console.error("Batch operation failed:",e)}finally{j(!1),u(!1),x(null)}},P=async()=>{if(confirm(`Are you sure you want to delete ${e.length} ${c}?`))try{await b.h.delete(`/admin/${c}/batch`,{data:{ids:e}}),f.ZP.success(`Deleted ${e.length} ${c}`),s(),n()}catch(e){f.ZP.error("Failed to delete items")}},Z=async t=>{try{await b.h.patch(`/admin/${c}/batch`,{ids:e,updates:t}),f.ZP.success(`Updated ${e.length} ${c}`),s(),n()}catch(e){f.ZP.error("Failed to update items")}},E=async()=>{try{let t=await b.h.post(`/admin/${c}/export`,{ids:e},{responseType:"blob"}),a=new Blob([t.data],{type:"text/csv"}),l=window.URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download=`${c}_export_${new Date().toISOString().split("T")[0]}.csv`,r.click(),window.URL.revokeObjectURL(l),f.ZP.success(`Exported ${e.length} ${c}`),s()}catch(e){f.ZP.error("Failed to export items")}};return 0===e.length?null:(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.length," ",c," selected"]}),a.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Clear"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:C.map(e=>(0,a.jsxs)("button",{onClick:()=>S(e),disabled:g,className:`flex items-center space-x-1 px-3 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 ${e.color} ${g?"opacity-50 cursor-not-allowed":""}`,title:e.description,children:[a.jsx(e.icon,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id))})]})})}),a.jsx(d.u,{isOpen:o,onClose:()=>u(!1),title:`${m?.label} - ${e.length} items`,size:"md",children:m&&(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description}),"select"===m.inputType&&m.inputOptions?(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Value"}),(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"input w-full",children:[a.jsx("option",{value:"",children:"Choose..."}),m.inputOptions.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]})]}):"number"===m.inputType?(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Value"}),a.jsx("input",{type:"number",value:h,onChange:e=>p(e.target.value),className:"input w-full",placeholder:"Enter number..."})]}):"text"===m.inputType?(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter Text"}),a.jsx("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:"input w-full",placeholder:"Enter text (comma-separated for tags)..."})]}):null,(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"btn-secondary",disabled:g,children:"Cancel"}),a.jsx("button",{onClick:()=>q(m,h),className:"btn-primary",disabled:g||m.requiresInput&&!h.trim(),children:g?"Processing...":"Apply"})]})]})})]})}var S=s(48992),q=s(74723),P=s(90434);function Z(){let[e,t]=(0,l.useState)([]),[s,u]=(0,l.useState)([]),[m,x]=(0,l.useState)(!0),[h,p]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),[w,k]=(0,l.useState)(null),[N,Z]=(0,l.useState)(""),[E,A]=(0,l.useState)(""),[L,M]=(0,l.useState)([]),[I,_]=(0,l.useState)(1),[O,$]=(0,l.useState)(1),[R,T]=(0,l.useState)(!1),{register:D,handleSubmit:F,reset:B,watch:z,setValue:U,formState:{errors:G}}=(0,q.cI)(),[Q,H]=(0,l.useState)(""),[W,V]=(0,l.useState)(""),J=async()=>{try{x(!0);let e=await S.eh.getAll({subsectionId:N||void 0,difficulty:E||void 0,page:I,limit:10});t(e.questions||[]),$(e.pagination.pages)}catch(e){f.ZP.error("Failed to fetch questions")}finally{x(!1)}},X=async e=>{if(confirm("Delete this question?"))try{await S.eh.delete(e.id),f.ZP.success("Deleted"),J()}catch(e){f.ZP.error("Failed to delete")}},K=async e=>{try{let t={...e,text:Q,explanation:W};w?(await S.eh.update(w.id,t),f.ZP.success("Updated")):(await S.eh.create(t),f.ZP.success("Created")),p(!1),J()}catch(e){f.ZP.error("Failed to save")}},Y=async()=>{if(L.length&&confirm(`Delete ${L.length} question(s)?`))try{await S.eh.batchDelete(L),f.ZP.success(`Deleted ${L.length}`),M([]),J()}catch(e){f.ZP.error("Failed to delete")}},ee=async e=>{if(!L.length){f.ZP.error("No questions selected");return}try{await S.eh.batchUpdate({ids:L,updates:e}),f.ZP.success(`Updated ${L.length} question(s)`),M([]),g(!1),J()}catch(e){f.ZP.error("Failed to update")}},et=async(e,t,s)=>{T(!0);try{let a=await S.$9.generateQuestions({topic:e,difficulty:t,count:s});for(let e of(f.ZP.success(`Generated ${a.questions.length} question(s)`),a.questions))await S.eh.create({...e,subsectionId:N});v(!1),J()}catch(e){f.ZP.error("Failed to generate questions")}finally{T(!1)}},es=async()=>{if(!Q){f.ZP.error("Enter question text first");return}try{let e=await S.$9.suggestDifficulty(Q);U("difficulty",e.difficulty),f.ZP.success(`Suggested: ${e.difficulty}`)}catch(e){f.ZP.error("Failed to suggest difficulty")}},ea=async()=>{if(!Q){f.ZP.error("Enter question text first");return}let e=z("options"),t=z("correctAnswer");if(!e||!e[t]){f.ZP.error("Set correct answer first");return}try{let s=await S.$9.generateExplanation(Q,e[t]);V(s.explanation),f.ZP.success("Generated explanation")}catch(e){f.ZP.error("Failed to generate explanation")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Questions Management"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Level 8 - Manage quiz questions"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[L.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:Y,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(r.Z,{className:"h-5 w-5"}),(0,a.jsxs)("span",{children:["Delete (",L.length,")"]})]}),(0,a.jsxs)("button",{onClick:()=>g(!0),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(i.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Batch Edit"})]})]}),(0,a.jsxs)("button",{onClick:()=>v(!0),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(n.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"AI Generate"})]}),(0,a.jsxs)("button",{onClick:()=>{k(null),B({text:"",options:["","","",""],correctAnswer:0,explanation:"",difficulty:"medium",tags:[],timeLimit:60,marks:1,negativeMarks:0,subsectionId:N||"",isActive:!0}),H(""),V(""),p(!0)},className:"btn-primary flex items-center space-x-2",children:[a.jsx(c.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Add Question"})]})]})]})})}),a.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("nav",{className:"flex justify-between",children:[(0,a.jsxs)("ol",{className:"flex items-center space-x-2",children:[a.jsx("li",{children:a.jsx(P.default,{href:"/dashboard",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})}),(0,a.jsxs)("li",{children:[a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{children:"Questions"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("select",{value:N,onChange:e=>Z(e.target.value),className:"input",children:[a.jsx("option",{value:"",children:"All Subsections"}),s.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsxs)("select",{value:E,onChange:e=>A(e.target.value),className:"input",children:[a.jsx("option",{value:"",children:"All Difficulties"}),a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]})}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx(o.w,{data:e,columns:[{key:"text",header:"Question",render:e=>a.jsx("div",{className:"max-w-md",dangerouslySetInnerHTML:{__html:e.text.substring(0,100)+"..."}})},{key:"difficulty",header:"Difficulty",sortable:!0,render:e=>a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"easy"===e.difficulty?"bg-green-100 text-green-800":"medium"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.difficulty})},{key:"marks",header:"Marks",sortable:!0},{key:"timeLimit",header:"Time (s)",sortable:!0},{key:"subsection",header:"Subsection",render:e=>e.subsection?.name||"N/A"},{key:"isActive",header:"Status",render:e=>a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100"}`,children:e.isActive?"Active":"Inactive"})}],loading:m,onEdit:e=>{k(e),B({text:e.text,options:e.options,correctAnswer:e.correctAnswer,explanation:e.explanation||"",difficulty:e.difficulty,tags:e.tags,timeLimit:e.timeLimit||60,marks:e.marks,negativeMarks:e.negativeMarks||0,subsectionId:e.subsectionId,isActive:e.isActive}),H(e.text),V(e.explanation||""),p(!0)},onDelete:X,searchPlaceholder:"Search questions...",emptyMessage:"No questions",selectable:!0,selectedIds:L,onSelectionChange:M}),O>1&&(0,a.jsxs)("div",{className:"mt-4 flex justify-center space-x-2",children:[a.jsx("button",{onClick:()=>_(e=>Math.max(1,e-1)),disabled:1===I,className:"btn-secondary",children:"Previous"}),(0,a.jsxs)("span",{className:"py-2 px-4",children:["Page ",I," of ",O]}),a.jsx("button",{onClick:()=>_(e=>Math.min(O,e+1)),disabled:I===O,className:"btn-secondary",children:"Next"})]})]}),a.jsx(C,{selectedIds:L,selectedItems:e.filter(e=>L.includes(e.id)),onClearSelection:()=>M([]),onRefresh:J,entityType:"questions"}),a.jsx(d.u,{isOpen:h,onClose:()=>p(!1),title:w?"Edit Question":"Create Question",size:"2xl",children:(0,a.jsxs)("form",{onSubmit:F(K),className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Question Text *"}),(0,a.jsxs)("button",{type:"button",onClick:es,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[a.jsx(n.Z,{className:"h-4 w-4 mr-1"}),"AI Suggest Difficulty"]})]}),a.jsx(j,{value:Q,onChange:H,placeholder:"Enter your question here...",enableAI:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subsection *"}),(0,a.jsxs)("select",{...D("subsectionId",{required:"Required"}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Select"}),s.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1,2,3].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Option ",String.fromCharCode(65+e)," *"]}),a.jsx("input",{...D(`options.${e}`,{required:"Required"}),className:"input w-full",placeholder:`Option ${String.fromCharCode(65+e)}`})]},e))}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Correct Answer *"}),(0,a.jsxs)("select",{...D("correctAnswer",{required:"Required",valueAsNumber:!0}),className:"input w-full",children:[a.jsx("option",{value:0,children:"A"}),a.jsx("option",{value:1,children:"B"}),a.jsx("option",{value:2,children:"C"}),a.jsx("option",{value:3,children:"D"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty *"}),(0,a.jsxs)("select",{...D("difficulty",{required:"Required"}),className:"input w-full",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Limit (s)"}),a.jsx("input",{type:"number",...D("timeLimit",{valueAsNumber:!0}),className:"input w-full",placeholder:"60"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marks"}),a.jsx("input",{type:"number",...D("marks",{valueAsNumber:!0}),className:"input w-full",placeholder:"1"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Negative Marks"}),a.jsx("input",{type:"number",step:"0.1",...D("negativeMarks",{valueAsNumber:!0}),className:"input w-full",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Explanation"}),(0,a.jsxs)("button",{type:"button",onClick:ea,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[a.jsx(n.Z,{className:"h-4 w-4 mr-1"}),"AI Generate"]})]}),a.jsx(j,{value:W,onChange:V,placeholder:"Enter explanation here...",enableAI:!0})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",...D("isActive"),id:"isActive",className:"rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",children:w?"Update":"Create"})]})]})}),a.jsx(d.u,{isOpen:b,onClose:()=>g(!1),title:"Batch Update Questions",size:"lg",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Update ",L.length," selected question(s)"]}),a.jsx("button",{onClick:()=>ee({difficulty:"easy"}),className:"btn-secondary w-full",children:"Set Difficulty: Easy"}),a.jsx("button",{onClick:()=>ee({difficulty:"medium"}),className:"btn-secondary w-full",children:"Set Difficulty: Medium"}),a.jsx("button",{onClick:()=>ee({difficulty:"hard"}),className:"btn-secondary w-full",children:"Set Difficulty: Hard"}),a.jsx("button",{onClick:()=>ee({timeLimit:60}),className:"btn-secondary w-full",children:"Set Time: 60s"}),a.jsx("button",{onClick:()=>ee({timeLimit:90}),className:"btn-secondary w-full",children:"Set Time: 90s"}),a.jsx("button",{onClick:()=>ee({marks:1}),className:"btn-secondary w-full",children:"Set Marks: 1"}),a.jsx("button",{onClick:()=>ee({marks:2}),className:"btn-secondary w-full",children:"Set Marks: 2"}),a.jsx("button",{onClick:()=>ee({isActive:!0}),className:"btn-secondary w-full",children:"Activate All"}),a.jsx("button",{onClick:()=>ee({isActive:!1}),className:"btn-secondary w-full",children:"Deactivate All"})]})}),a.jsx(d.u,{isOpen:y,onClose:()=>v(!1),title:"AI Generate Questions",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.target);et(t.get("topic"),t.get("difficulty"),parseInt(t.get("count")))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Topic"}),a.jsx("input",{name:"topic",className:"input w-full",placeholder:"e.g., Newton's Laws of Motion",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Difficulty"}),(0,a.jsxs)("select",{name:"difficulty",className:"input w-full",defaultValue:"medium",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Count"}),a.jsx("input",{name:"count",type:"number",min:"1",max:"10",defaultValue:"3",className:"input w-full"})]}),N&&a.jsx("p",{className:"text-sm text-gray-600",children:"Questions will be added to the selected subsection"}),!N&&a.jsx("p",{className:"text-sm text-red-600",children:"Please select a subsection filter first"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:R||!N,className:"btn-primary",children:R?"Generating...":"Generate"})]})]})})]})}},1719:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/questions/page.tsx#default`)},32289:()=>{},24221:()=>{},12012:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(17577);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))})},83401:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(17577);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},86421:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(17577);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},34790:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(17577);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},23351:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(17577);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))})},71684:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(17577);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[342,496,723,410,422],()=>s(71780));module.exports=a})();
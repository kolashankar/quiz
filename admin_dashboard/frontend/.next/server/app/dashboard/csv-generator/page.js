(()=>{var e={};e.id=199,e.ids=[199],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},88609:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(84738),a(22834),a(32029),a(35866);var s=a(23191),r=a(88716),n=a(37922),i=a.n(n),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["dashboard",{children:["csv-generator",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,84738)),"/app/admin_dashboard/frontend/src/app/dashboard/csv-generator/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22834)),"/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,32029)),"/app/admin_dashboard/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/admin_dashboard/frontend/src/app/dashboard/csv-generator/page.tsx"],u="/dashboard/csv-generator/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/csv-generator/page",pathname:"/dashboard/csv-generator",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77117:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},64274:(e,t,a)=>{Promise.resolve().then(a.bind(a,23875))},53106:(e,t,a)=>{Promise.resolve().then(a.bind(a,7022))},91051:(e,t,a)=>{Promise.resolve().then(a.bind(a,7584))},35047:(e,t,a)=>{"use strict";var s=a(77389);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},23875:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(10326),r=a(17577),n=a(48992);function i(){let[e,t]=(0,r.useState)("JEE"),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(40),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),x=e=>{a.includes(e)?i(a.filter(t=>t!==e)):i([...a,e])},g=e=>{t(e),i([]),m(null),p("")},b=async()=>{if(0===a.length){p("Please select at least one subject");return}try{c(!0),p(""),m(null);let t=await n.$9.generateCSV(e,a,o);m(t)}catch(e){p(e.response?.data?.detail||"Failed to generate CSV"),console.error("Error generating CSV:",e)}finally{c(!1)}};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI CSV Generator"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Generate high-quality exam questions in CSV format using AI"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Configuration"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Exam ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:e,onChange:e=>g(e.target.value),className:"w-full max-w-md border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d,children:["JEE","GATE","UPSC","NEET","NMMS","EAPCET"].map(e=>s.jsx("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Subjects ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:({JEE:["Physics","Chemistry","Mathematics"],GATE:["Electrical","Computer Science","Mechanical","Civil"],UPSC:["General Studies","History","Geography","Polity"],NEET:["Physics","Chemistry","Biology"],NMMS:["Mathematics","Science","Social Science"],EAPCET:["Physics","Chemistry","Mathematics"]})[e]?.map(e=>s.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${a.includes(e)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"checkbox",checked:a.includes(e),onChange:()=>x(e),disabled:d,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:e})]},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Questions per Subject"}),s.jsx("input",{type:"number",value:o,onChange:e=>l(parseInt(e.target.value)||10),min:"10",max:"100",step:"10",className:"w-full max-w-md border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Estimated total: ",o*a.length," questions"]})]}),h&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-800 text-sm",children:h})}),s.jsx("button",{onClick:b,disabled:d||0===a.length,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:d?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating CSV..."]}):"Generate CSV"})]}),u&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-2",children:"✓ Generation Complete!"}),s.jsx("p",{className:"text-gray-600",children:u.message})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Exam"}),s.jsx("p",{className:"text-xl font-bold text-blue-700",children:u.exam})]}),(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Questions"}),s.jsx("p",{className:"text-xl font-bold text-green-700",children:u.total_questions})]}),(0,s.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Subjects"}),s.jsx("p",{className:"text-xl font-bold text-purple-700",children:a.length})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"CSV Format (24 Columns):"}),s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"UID, Exam, Year, Subject, Chapter, Topic, QuestionType, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, AnswerChoicesCount, Marks, NegativeMarks, TimeLimitSeconds, Difficulty, Tags, FormulaLaTeX, ImageUploadThingURL, ImageAltText, Explanation, ConfidenceScore, SourceNotes"}),s.jsx("p",{className:"text-xs text-green-600",children:"✓ Ready to upload directly to the system or import into Excel"})]}),(0,s.jsxs)("button",{onClick:()=>{if(!u?.csv_content)return;let t=new Blob([u.csv_content],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.setAttribute("download",`${e}_Questions_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(a)},className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download CSV"]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"\uD83D\uDCDD How to Use"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[s.jsx("li",{children:"Select the exam type (JEE, NEET, UPSC, etc.)"}),s.jsx("li",{children:"Choose one or more subjects to generate questions for"}),s.jsx("li",{children:"Set the number of questions per subject (10-100)"}),s.jsx("li",{children:'Click "Generate CSV" and wait for AI to create questions'}),s.jsx("li",{children:"Download the CSV file when generation is complete"}),s.jsx("li",{children:"Use the CSV to bulk upload questions or review in Excel"})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border border-blue-200",children:[s.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"Note:"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Generated questions include explanations, difficulty levels, formulas (LaTeX), and tricks/shortcuts. The CSV follows the 24-column format for direct system upload."})]})]})]})}},7022:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(10326),r=a(95304),n=a(35047);a(17577);var i=a(35590);function o({children:e}){let{user:t,isLoading:a}=(0,r.a)();return((0,n.useRouter)(),a)?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(i.$,{size:"lg"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):t&&"admin"===t.role?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"You need admin privileges to access this dashboard."})]})})}},7584:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(10326),r=a(97270),n=a.n(r);a(23824);var i=a(95304),o=a(17577);let l=(0,o.createContext)(void 0);function d({children:e}){let[t,a]=(0,o.useState)("light");return s.jsx(l.Provider,{value:{theme:t,toggleTheme:()=>{let e="light"===t?"dark":"light";a(e),localStorage.setItem("theme",e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},children:e})}var c=a(40381);function u({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:n().className,children:s.jsx(d,{children:(0,s.jsxs)(i.H,{children:[e,s.jsx(c.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"}}})]})})})})}},35590:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var s=a(10326);function r({size:e="md",color:t="primary",className:a=""}){return(0,s.jsxs)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[e]} ${{primary:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]} ${a}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}a(17577)},95304:(e,t,a)=>{"use strict";a.d(t,{H:()=>l,a:()=>d});var s=a(10326),r=a(17577),n=a(76219),i=a(40381);let o=(0,r.createContext)(void 0);function l({children:e}){let[t,a]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),m=async e=>{try{d(!0);let t=await n.O.login(e);return u(t.token),a(t.user),localStorage.setItem("auth_token",t.token),i.ZP.success("Login successful!"),t}catch(e){throw i.ZP.error(e.message||"Login failed"),e}finally{d(!1)}};return s.jsx(o.Provider,{value:{user:t,token:c,isLoading:l,login:m,logout:()=>{a(null),u(null),localStorage.removeItem("auth_token"),i.ZP.success("Logged out successfully")}},children:e})}function d(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},48992:(e,t,a)=>{"use strict";a.d(t,{$9:()=>u,$s:()=>r,DO:()=>d,Ps:()=>c,jj:()=>i,qu:()=>n,uF:()=>l,wE:()=>o});var s=a(76219);let r={getAll:async()=>(await s.h.get("/admin/exams")).data,getById:async e=>(await s.h.get(`/admin/exams/${e}`)).data,create:async e=>(await s.h.post("/admin/exams",e)).data,update:async(e,t)=>(await s.h.put(`/admin/exams/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/exams/${e}`)}},n={getAll:async e=>(await s.h.get("/admin/subjects",{params:e?{examId:e}:void 0})).data,getById:async e=>(await s.h.get(`/admin/subjects/${e}`)).data,create:async e=>(await s.h.post("/admin/subjects",e)).data,update:async(e,t)=>(await s.h.put(`/admin/subjects/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/subjects/${e}`)}},i={getAll:async e=>(await s.h.get("/admin/chapters",{params:e?{subjectId:e}:void 0})).data,getById:async e=>(await s.h.get(`/admin/chapters/${e}`)).data,create:async e=>(await s.h.post("/admin/chapters",e)).data,update:async(e,t)=>(await s.h.put(`/admin/chapters/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/chapters/${e}`)}},o={getAll:async e=>(await s.h.get("/admin/topics",{params:e?{chapterId:e}:void 0})).data,getById:async e=>(await s.h.get(`/admin/topics/${e}`)).data,create:async e=>(await s.h.post("/admin/topics",e)).data,update:async(e,t)=>(await s.h.put(`/admin/topics/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/topics/${e}`)}},l={getAll:async e=>(await s.h.get("/admin/subtopics",{params:e?{topicId:e}:void 0})).data,getById:async e=>(await s.h.get(`/admin/subtopics/${e}`)).data,create:async e=>(await s.h.post("/admin/subtopics",e)).data,update:async(e,t)=>(await s.h.put(`/admin/subtopics/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/subtopics/${e}`)}},d={getAll:async e=>(await s.h.get("/admin/sections",{params:e?{subtopicId:e}:void 0})).data,getById:async e=>(await s.h.get(`/admin/sections/${e}`)).data,create:async e=>(await s.h.post("/admin/sections",e)).data,update:async(e,t)=>(await s.h.put(`/admin/sections/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/sections/${e}`)}},c={getAll:async e=>(await s.h.get("/admin/subsections",{params:e?{sectionId:e}:void 0})).data,getById:async e=>(await s.h.get(`/admin/subsections/${e}`)).data,create:async e=>(await s.h.post("/admin/subsections",e)).data,update:async(e,t)=>(await s.h.put(`/admin/subsections/${e}`,t)).data,async delete(e){await s.h.delete(`/admin/subsections/${e}`)}},u={generateQuestions:async e=>(await s.h.post("/admin/ai/generate-questions",e)).data,suggestDifficulty:async e=>(await s.h.post("/admin/ai/suggest-difficulty",{questionText:e})).data,generateExplanation:async(e,t)=>(await s.h.post("/admin/ai/generate-explanation",{questionText:e,correctAnswer:t})).data,generateCSV:async(e,t,a=40)=>(await s.h.post("/ai/generate-csv",null,{params:{exam:e,subjects:t.join(","),questions_per_subject:a}})).data}},76219:(e,t,a)=>{"use strict";a.d(t,{O:()=>r,h:()=>s});let s=a(94464).Z.create({baseURL:"http://localhost:8001/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),s.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("auth_token"),window.location.href="/auth/login"),Promise.reject(e)));let r={async login(e){try{return(await s.post("/auth/login",e)).data}catch(e){throw Error(e.response?.data?.error||"Login failed")}},async register(e){try{return(await s.post("/auth/register",e)).data}catch(e){throw Error(e.response?.data?.error||"Registration failed")}},async getCurrentUser(){try{return(await s.get("/auth/me")).data.user}catch(e){throw Error(e.response?.data?.error||"Failed to get user")}},logout(){localStorage.removeItem("auth_token")}}},84738:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/csv-generator/page.tsx#default`)},22834:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx#default`)},32029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/layout.tsx#default`)},23824:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[342],()=>a(88609));module.exports=s})();
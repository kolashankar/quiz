(()=>{var e={};e.id=722,e.ids=[722],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},62114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(82731),r(22834),r(32029),r(35866);var a=r(23191),s=r(88716),n=r(37922),o=r.n(n),l=r(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["dashboard",{children:["syllabus",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,82731)),"/app/admin_dashboard/frontend/src/app/dashboard/syllabus/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22834)),"/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/app/admin_dashboard/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/admin_dashboard/frontend/src/app/dashboard/syllabus/page.tsx"],u="/dashboard/syllabus/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/syllabus/page",pathname:"/dashboard/syllabus",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77117:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},53106:(e,t,r)=>{Promise.resolve().then(r.bind(r,7022))},24080:(e,t,r)=>{Promise.resolve().then(r.bind(r,17842))},91051:(e,t,r)=>{Promise.resolve().then(r.bind(r,57480))},7022:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(10326);!function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}();var s=r(35047);function n({children:e}){let{user:t,isLoading:r}=Object(function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}())();return((0,s.useRouter)(),r)?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/common/Spinner'");throw e.code="MODULE_NOT_FOUND",e}()),{size:"lg"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):t&&"admin"===t.role?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"You need admin privileges to access this dashboard."})]})})}r(17577),function(){var e=Error("Cannot find module '@/components/ui/common/Spinner'");throw e.code="MODULE_NOT_FOUND",e}()},17842:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(10326),s=r(17577),n=r(84625),o=r(23351),l=r(43404);!function(){var e=Error("Cannot find module '@/components/ui/common/Modal'");throw e.code="MODULE_NOT_FOUND",e}();var i=r(40381),d=r(74723),c=r(94464);function u(){let[e,t]=(0,s.useState)([]),[r,u]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0),[h,p]=(0,s.useState)(!1),[b,g]=(0,s.useState)(null),[y,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(""),{register:N,handleSubmit:w,reset:k,setValue:_,watch:O,formState:{errors:E}}=(0,d.cI)(),P=O("examId"),C=async()=>{try{x(!0);let e=localStorage.getItem("token"),r=await c.Z.get("http://localhost:8003/api/api/admin/syllabus",{headers:{Authorization:`Bearer ${e}`}});t(r.data)}catch(e){i.ZP.error(e.response?.data?.error||"Failed to fetch syllabuses")}finally{x(!1)}},S=e=>{g(e),j(""),k({examId:e.examId,title:e.title,content:e.content,aiGenerated:e.aiGenerated}),p(!0)},L=async e=>{if(confirm(`Are you sure you want to delete "${e.title}"?`))try{let t=localStorage.getItem("token");await c.Z.delete(`http://localhost:8003/api/api/admin/syllabus/${e.id}`,{headers:{Authorization:`Bearer ${t}`}}),i.ZP.success("Syllabus deleted successfully"),C()}catch(e){i.ZP.error(e.response?.data?.error||"Failed to delete syllabus")}},q=async()=>{if(!P){i.ZP.error("Please select an exam first");return}let e=r.find(e=>e.id===P);if(e){f(!0);try{let t=localStorage.getItem("token"),r=(await c.Z.post("http://localhost:8003/api/api/admin/syllabus/generate-ai",{examName:e.name},{headers:{Authorization:`Bearer ${t}`}})).data.generatedContent;j(r),_("content",r),_("aiGenerated",!0),i.ZP.success("Syllabus generated successfully!")}catch(e){i.ZP.error(e.response?.data?.error||"Failed to generate syllabus")}finally{f(!1)}}},Z=async e=>{try{let t=localStorage.getItem("token");b?(await c.Z.put(`http://localhost:8003/api/api/admin/syllabus/${b.id}`,e,{headers:{Authorization:`Bearer ${t}`}}),i.ZP.success("Syllabus updated successfully")):(await c.Z.post("http://localhost:8003/api/api/admin/syllabus",e,{headers:{Authorization:`Bearer ${t}`}}),i.ZP.success("Syllabus created successfully")),p(!1),C()}catch(e){i.ZP.error(e.response?.data?.error||"Failed to save syllabus")}};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Exam Syllabuses"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage exam syllabuses manually or generate them using AI"})]}),a.jsx("div",{className:"mb-4 flex justify-between items-center",children:(0,a.jsxs)("button",{onClick:()=>{g(null),j(""),k({examId:"",title:"",content:"",aiGenerated:!1}),p(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[a.jsx(n.Z,{className:"w-5 h-5 mr-2"}),"Add Syllabus"]})}),m?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.title}),e.aiGenerated&&(0,a.jsxs)("span",{className:"flex items-center text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:[a.jsx(o.Z,{className:"w-3 h-3 mr-1"}),"AI"]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:e.exam?.name||"Unknown Exam"}),(0,a.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4 line-clamp-3",children:[e.content.substring(0,150),"..."]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[a.jsx("button",{onClick:()=>S(e),className:"flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100 transition",children:"Edit"}),a.jsx("button",{onClick:()=>L(e),className:"px-3 py-2 text-sm bg-red-50 text-red-600 rounded hover:bg-red-100 transition",children:a.jsx(l.Z,{className:"w-4 h-4"})})]})]},e.id))}),0===e.length&&!m&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No syllabuses found. Create one to get started!"}),a.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/common/Modal'");throw e.code="MODULE_NOT_FOUND",e}()),{isOpen:h,onClose:()=>p(!1),title:b?"Edit Syllabus":"Create Syllabus",children:(0,a.jsxs)("form",{onSubmit:w(Z),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Exam ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{...N("examId",{required:"Exam is required"}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Exam"}),r.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]}),E.examId&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.examId.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...N("title",{required:"Title is required"}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Complete UPSC Syllabus 2024"}),E.title&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.title.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Content ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("button",{type:"button",onClick:q,disabled:y||!P,className:"flex items-center px-3 py-1 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(o.Z,{className:"w-4 h-4 mr-1"}),y?"Generating...":"Generate with AI"]})]}),a.jsx("textarea",{...N("content",{required:"Content is required"}),rows:12,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white font-mono text-sm",placeholder:"Syllabus content (supports Markdown)..."}),E.content&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.content.message})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:b?"Update":"Create"})]})]})})]})}},57480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(10326),s=r(97270),n=r.n(s);r(23824),function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/contexts/theme/ThemeContext'");throw e.code="MODULE_NOT_FOUND",e}();var o=r(40381);function l({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:a.jsx("body",{className:n().className,children:a.jsx(Object(function(){var e=Error("Cannot find module '@/contexts/theme/ThemeContext'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,a.jsxs)(Object(function(){var e=Error("Cannot find module '@/contexts/auth/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[e,a.jsx(o.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"}}})]})})})})}},22834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/layout.tsx#default`)},82731:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/dashboard/syllabus/page.tsx#default`)},32029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/app/admin_dashboard/frontend/src/app/layout.tsx#default`)},23824:()=>{},84625:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},23351:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))})},43404:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[99,723,468],()=>r(62114));module.exports=a})();